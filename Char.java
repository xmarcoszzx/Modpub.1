package pasta;

import java.util.Random;
import java.util.Vector;
import javax.microedition.lcdui.Image;

public class Char implements as {
   public static boolean E;
   private static Image a = dz.b("/mainImage/myTexture2dat-trai-dat.png");
   public static k a;
   public static short a = 30000;
   public static final int[][][] a;
   public static Vector all = new Vector();
   private static Image b = dz.b("/mainImage/myTexture2dmat-namek.png");
   private static Char b;
   public static short[] b;
   private static Image c = dz.b("/mainImage/myTexture2dthucuoi10.png");
   private static Char c;
   public static short[] c;
   private static Image d = dz.b("/mainImage/myTexture2dthucuoi20.png");
   private static Image e = dz.b("/mainImage/myTexture2dthucuoi21.png");
   private static Image f = dz.b("/mainImage/myTexture2dthucuoi30.png");
   private static Image g = dz.b("/mainImage/myTexture2dthucuoi11.png");
   private static Image h = dz.b("/mainImage/myTexture2dthucuoi22.png");
   private static Image i = dz.b("/mainImage/myTexture2dthucuoi23.png");
   private static Image j = dz.b("/mainImage/myTexture2dthucuoi31.png");
   private static Image k = dz.b("/mainImage/myTexture2drong.png");
   private static Image l = dz.b("/mainImage/myTexture2dcanhrong.png");
   public static boolean u;
   public static boolean v;
   public static boolean w;
   public int A = 22;
   public boolean A;
   public int B = 32;
   public boolean B;
   public int C;
   public boolean C;
   public int D;
   boolean D;
   public int E;
   public int F;
   public boolean F;
   public int G;
   public boolean G;
   public int H;
   public boolean H;
   public int I;
   public boolean I;
   public boolean J;
   public int K;
   boolean K;
   public int L = -9999;
   public boolean L;
   public int M = -9999;
   public boolean M;
   public int N;
   public boolean N;
   public int O;
   public boolean O;
   public int P;
   public boolean P;
   public int Q;
   private boolean Q = true;
   public int R;
   private boolean R;
   public int S;
   private boolean S;
   public int T;
   private boolean T;
   int U;
   private boolean U;
   public int V;
   private boolean V;
   public int W;
   private boolean W;
   public int X;
   private boolean X;
   public int Y;
   private boolean Y;
   public int Z;
   private boolean Z;
   public byte a;
   public int a = 0;
   public long a;
   public String a = "";
   public Char a;
   public ItemMap a;
   public MyVector a = new MyVector("vSkill");
   public al a;
   public an a;
   public bj a;
   public bo a;
   public bz a;
   public cd a;
   public ch a;
   public ck a;
   public cm a;
   public co a;
   private cx a;
   public df a;
   public dg a;
   public i a;
   public o a;
   public boolean a;
   private byte[] a;
   private int[] a;
   public String[] a;
   public Char[] a;
   public al[] a;
   private bt[] a;
   public i[] a;
   public t[] a;
   public short[] a;
   public String[][] a;
   public Item[][] a;
   public short[][] a;
   private int aA;
   private int aB;
   private int aC;
   private int aD;
   private int aE;
   private int aF;
   private int aG;
   private int aH;
   private int aI;
   private int aJ;
   private int aK;
   private int aL;
   private int aM;
   private int aN;
   private int aO;
   private int aP;
   private int aQ;
   private int aR;
   private int aS;
   private int aT;
   private int aU;
   private int aV;
   private int aW;
   private int aX;
   private int aY;
   private int aZ;
   public int aa;
   private boolean aa;
   public int ab;
   private boolean ab;
   public int ac;
   private boolean ac;
   public int ad;
   private boolean ad;
   public int ae;
   public int af;
   public int ag;
   public int ah;
   public int ai;
   public int aj;
   int ak;
   public int al;
   public int am;
   private int an;
   private int ao;
   private int ap;
   private int aq;
   private int ar;
   public Item[] arrItemBag;
   private int as = 11;
   private int at = 16;
   private int au;
   private int av;
   private int aw;
   private int ax;
   private int ay;
   private int az;
   public byte b;
   public int b = 24;
   public long b;
   public String b;
   public MyVector b = new MyVector("vSkillFight");
   public bj b;
   private bo b;
   public cd b;
   public i b;
   public short b = 0;
   public boolean b;
   public Item[] b;
   private int ba;
   private int bb;
   private int bc;
   private int bd;
   private int be;
   private int bf;
   public byte c;
   public int c = 24;
   public long c;
   String c;
   public MyVector c = new MyVector("vEff char");
   private bo c;
   private i c;
   short c;
   public boolean c;
   public Item[] c;
   public int charID;
   public byte d;
   public int d;
   public long d;
   private String d;
   private Char d;
   public MyVector d = new MyVector("focus");
   private bo d;
   short d;
   public boolean d;
   public byte e;
   public int e;
   public long e;
   public MyVector e = new MyVector("taskOrders");
   short e;
   public boolean e;
   public byte f;
   public int f;
   private long f;
   public MyVector f;
   public short f;
   public boolean f;
   public byte g;
   public int g;
   private long g;
   private MyVector g;
   public short g;
   public boolean g;
   public byte h;
   public int h = 5;
   private long h;
   public short h;
   public boolean h = true;
   public byte i;
   public int i = 1;
   private long i;
   public short i;
   public boolean i;
   public byte j;
   private long j;
   private short j;
   public boolean j;
   public byte k;
   public int k;
   private short k;
   public boolean k;
   private byte l;
   public int l;
   public boolean l;
   private byte m;
   public int m;
   public boolean m = true;
   private byte n;
   public int n = 4;
   public boolean n = false;
   public int o;
   public boolean o;
   public int p;
   public boolean p;
   public int q;
   public boolean q;
   public int r;
   public boolean r;
   public int s;
   public boolean s;
   public int t;
   public boolean t;
   public int u;
   public int v;
   public int w;
   public int x;
   public boolean x;
   public int y;
   public boolean y;
   public int z;
   public boolean z;

   static {
      dz.c("/mainImage/glass0.png");
      dz.c("/mainImage/glass1.png");
      int[] var0 = new int[]{0, -13, 34};
      int[] var32 = new int[]{0, -13, 35};
      int[] var43 = new int[]{0, -9, 36};
      int[] var60 = new int[]{0, -7, 35};
      int[] var61 = new int[]{0, -18, 22};
      int[] var37 = new int[3];
      int[] var72 = new int[3];
      int[] var3 = new int[]{0, -14, 34};
      int[] var29 = new int[3];
      int[] var83 = new int[]{0, -12, 35};
      int[] var16 = new int[3];
      int[] var19 = new int[3];
      int[] var23 = new int[3];
      int[] var82 = new int[3];
      int[] var81 = new int[]{0, -10, 31};
      int[] var80 = new int[3];
      int[] var35 = new int[]{0, -11, 32};
      int[] var2 = new int[3];
      int[] var11 = new int[]{0, -9, 33};
      int[] var36 = new int[3];
      int[] var77 = new int[]{0, -11, 33};
      int[] var78 = new int[3];
      int[] var57 = new int[]{0, -16, 31};
      int[] var27 = new int[3];
      int[] var9 = new int[]{0, -14, 34};
      int[] var49 = new int[3];
      int[] var39 = new int[]{0, -8, 36};
      int[] var33 = new int[]{0, -5, 25};
      int[] var42 = new int[3];
      int[] var52 = new int[]{0, -9, 31};
      int[] var58 = new int[]{0, -6, 20};
      int[] var25 = new int[3];
      int[] var53 = new int[3];
      int[] var63 = new int[3];
      int[] var1 = new int[3];
      int[] var6 = new int[3];
      int[] var74 = new int[3];
      int[] var21 = new int[]{0, -9, 33};
      int[] var13 = new int[3];
      int[] var22 = new int[]{0, -11, 33};
      int[] var8 = new int[3];
      int[] var73 = new int[]{0, -16, 32};
      int[] var70 = new int[3];
      int[] var12 = new int[]{1, -8, 10};
      int[] var69 = new int[]{1, -8, 10};
      int[] var14 = new int[]{1, -9, 17};
      int[] var48 = new int[]{1, -9, 46};
      int[] var62 = new int[]{1, -10, 34};
      int[] var7 = new int[]{4, -7, 17};
      int[] var47 = new int[]{1, -12, 47};
      int[] var41 = new int[]{7, -5, 17};
      int[] var30 = new int[]{7, -11, 25};
      int[] var64 = new int[]{1, -8, 49};
      int[] var28 = new int[]{1, -7, 48};
      int[] var50 = new int[]{1, -11, 35};
      int[] var26 = new int[]{10, -3, 25};
      int[] var67 = new int[]{12, -10, 26};
      int[] var84 = new int[]{8, -5, 14};
      int[] var79 = new int[]{1, -9, 49};
      int[] var38 = new int[]{1, -9, 34};
      int[] var65 = new int[]{9, -12, 9};
      int[] var45 = new int[]{10, -7, 19};
      int[] var5 = new int[]{1, -13, 34};
      int[] var10 = new int[]{1, -8, 32};
      int[] var31 = new int[]{9, -12, 9};
      int[] var76 = new int[]{9, -12, 9};
      int[] var75 = new int[]{15, -6, 19};
      int[] var59 = new int[]{9, -12, 9};
      int[] var20 = new int[]{9, -8, 28};
      int[] var46 = new int[]{9, -12, 9};
      int[] var51 = new int[]{8, -5, 13};
      int[] var68 = new int[]{10, -7, 19};
      int[] var54 = new int[]{1, -13, 34};
      int[] var24 = new int[]{11, -10, 19};
      int[] var66 = new int[]{1, -8, 32};
      int[] var17 = new int[]{2, -6, 15};
      int[] var44 = new int[]{8, -5, 13};
      int[] var15 = new int[]{14, -8, 18};
      int[] var4 = new int[]{8, -5, 13};
      int[] var56 = new int[]{15, -6, 19};
      int[] var71 = new int[]{9, -8, 29};
      int[][] var18 = new int[][]{{1, -10, 33}, {2, -10, 11}, {2, -8, 16}, {1, -12, 49}};
      int[][] var40 = new int[][]{{1, -10, 32}, {3, -12, 10}, {3, -11, 15}, {1, -13, 47}};
      int[][] var55 = new int[][]{{1, -10, 34}, {5, -12, 11}, {5, -9, 17}, {1, -13, 49}};
      int[][] var34 = new int[][]{{1, -10, 33}, {6, -10, 10}, {6, -8, 16}, {1, -12, 47}};
      int[][] var86 = new int[][]{{1, -11, 37}, {11, -3, 25}, {12, -11, 27}, var72};
      int[][] var89 = new int[][]{var83, var84, {8, -15, 29}, var79};
      int[][] var91 = new int[][]{{1, -8, 32}, {9, -12, 9}, {13, -12, 16}, var82};
      int[][] var90 = new int[][]{var81, {9, -12, 9}, {7, -13, 20}, var80};
      int[][] var88 = new int[][]{var77, var76, var75, var78};
      int[][] var87 = new int[][]{{1, -8, 32}, {8, -5, 13}, {13, -12, 16}, var74};
      int[][] var85 = new int[][]{var73, {8, -5, 13}, var71, var70};
      a = new int[][][]{{var0, var12, {1, -9, 16}, {1, -9, 45}}, {var32, var69, var14, var48}, var18, var40, {var62, {4, -8, 11}, var7, var47}, var55, var34, {var43, var41, var30, var64}, {var60, var61, {7, -10, 25}, var28}, {var50, var26, var67, var37}, var86, {var3, {12, -8, 21}, {9, -7, 31}, var29}, var89, {var38, var65, var45, var16}, {var5, {9, -12, 9}, {11, -10, 19}, var19}, {var10, var31, {2, -6, 15}, var23}, var91, var90, {var35, {9, -12, 9}, {8, -15, 26}, var2}, {var11, {9, -12, 9}, {14, -8, 18}, var36}, var88, {var57, var59, var20, var27}, {var9, {1, -8, 10}, {8, -16, 28}, var49}, {var39, {7, -5, 17}, var33, var42}, {var52, var46, var58, var25}, {{2, -9, 36}, {13, -5, 17}, {16, -11, 25}, var53}, {{1, -9, 34}, var51, var68, var63}, {var54, {8, -5, 13}, var24, var1}, {var66, {8, -5, 13}, var17, var6}, var87, {var21, var44, var15, var13}, {var22, var4, var56, var8}, var85};
      var0 = new int[12];
      var0[0] = 1;
      var0[2] = 1;
      var0[3] = 1000;
      var0[4] = 40;
      var0[5] = 1;
      var0[7] = 20;
      var0 = new int[12];
      var0[0] = 2;
      var0[1] = 1;
      var0[2] = 10;
      var0[3] = 1000;
      var0[4] = 100;
      var0[5] = 1;
      var0[7] = 40;
      var0 = new int[12];
      var0[0] = 2;
      var0[1] = 2;
      var0[2] = 11;
      var0[3] = 800;
      var0[4] = 100;
      var0[5] = 1;
      var0[7] = 45;
      var0 = new int[12];
      var0[0] = 2;
      var0[1] = 3;
      var0[2] = 12;
      var0[3] = 600;
      var0[4] = 100;
      var0[5] = 1;
      var0[7] = 50;
      var0 = new int[12];
      var0[0] = 2;
      var0[1] = 4;
      var0[2] = 13;
      var0[3] = 500;
      var0[4] = 100;
      var0[5] = 1;
      var0[7] = 55;
      var0 = new int[12];
      var0[0] = 3;
      var0[1] = 1;
      var0[2] = 14;
      var0[3] = 500;
      var0[4] = 100;
      var0[5] = 1;
      var0[7] = 60;
      var0 = new int[12];
      var0[0] = 3;
      var0[1] = 2;
      var0[2] = 14;
      var0[3] = 500;
      var0[4] = 100;
      var0[5] = 1;
      var0[7] = 60;
      var0 = new int[12];
      var0[0] = 3;
      var0[1] = 3;
      var0[2] = 14;
      var0[3] = 500;
      var0[4] = 100;
      var0[5] = 1;
      var0[7] = 60;
      var0 = new int[12];
      var0[0] = 3;
      var0[1] = 4;
      var0[2] = 14;
      var0[3] = 500;
      var0[4] = 100;
      var0[5] = 1;
      var0[7] = 60;
      var0 = new int[12];
      var0[0] = 3;
      var0[1] = 5;
      var0[2] = 14;
      var0[3] = 500;
      var0[4] = 100;
      var0[5] = 1;
      var0[7] = 60;
      E = false;
   }

   public Char() {
      byte[] var1 = new byte[]{0, 0, 1, 1, 2, 2, 1, 1};
      this.a = var1;
      this.f = new MyVector("vMovePoints");
      this.y = true;
      this.a = null;
      this.a = new int[]{1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2};
      this.d = "mount_";
      this.aa = -1;
      this.b = null;
      this.c = null;
      this.d = null;
      this.a = null;
      this.a = null;
      this.z = false;
      this.A = false;
      this.B = false;
      this.C = false;
      this.aX = 0;
      this.j = 0L;
      this.ba = 0;
      this.i = 1;
      this.j = 1;
      this.G = false;
      this.ad = false;
      this.bb = 0;
      this.al = 100;
      this.bc = -1;
      this.bd = -1;
      this.be = -1;
      this.bf = -1;
      this.g = new MyVector("vEff");
      this.h = 6;
   }

   private void D() {
      if (this.a != null) {
         for(int var1 = 0; var1 < this.a.length; ++var1) {
            if (this.a[var1] != null) {
               if (this.a[var1].a != null) {
                  if (!this.a[var1].a) {
                     this.a[var1].a.e();
                     this.a[var1].a.b = this;
                     if (this.j) {
                        myCharz();
                        myCharz();
                        (new Random()).nextInt(11);
                     }

                     int var2 = this.a[var1].a.o >> 1;
                     if (this.a[var1].a.a()) {
                        var2 = this.a[var1].a.b() + 20;
                     }

                     GameSrc.a(this.a[var1].a.e, this.a[var1].a.f - var2, this.i);
                     this.a[var1].a = true;
                  }
               } else if (this.a[var1].a != null && !this.a[var1].a) {
                  if (this.a[var1].a.charID >= 0) {
                     this.a[var1].a.r();
                  }

                  GameSrc.a(this.a[var1].a.b, this.a[var1].a.c - (this.a[var1].a.B >> 1), this.i);
                  this.a[var1].a = true;
               }

               bt var3 = this.a[var1];
               ++var3.a;
               if (this.a[var1].a >= this.a[var1].a.a.length) {
                  this.a[var1] = null;
               }
            }
         }
      }

      if (this.aa >= 0 && this.a != null && main.a.g % 2 == 0) {
         ++this.aa;
         if (this.aa >= this.a.a.length) {
            this.aa = -1;
            this.a = null;
         }
      }

   }

   private void E() {
      if (this.b != null) {
         cd var1 = this.b;
         this.b = null;
         var1.a();
      }

   }

   private void F() {
      if (main.a.g % 20 == 0 && this.charID >= 0) {
         this.Q = true;

         int var1;
         for(var1 = 0; var1 < GameSrc.d.size(); ++var1) {
            Char var2;
            try {
               var2 = (Char)GameSrc.d.elementAt(var1);
            } catch (Exception var4) {
               var2 = null;
            }

            if (var2 != null && !var2.equals(this) && (var2.c == this.c && cq.f(var2.b - this.b) < 35 || this.c - var2.c < 32 && this.c - var2.c > 0 && cq.f(var2.b - this.b) < 24)) {
               this.Q = false;
            }
         }

         for(var1 = 0; var1 < GameSrc.g.size(); ++var1) {
            cm var5;
            try {
               var5 = (cm)GameSrc.g.elementAt(var1);
            } catch (Exception var3) {
               var5 = null;
            }

            if (var5 != null && var5.c == this.c && cq.f(var5.b - this.b) < 24) {
               this.Q = false;
            }
         }
      }

   }

   private void G() {
      byte var1 = 0;
      if (this.h != 14 && this.h != 5) {
         if (this.a != null && (this.a != null && b(this.a) && this.a.h == 14 || this.a != null && this.a.h == 0)) {
            if (!this.j) {
               if ((TileMap.b(this.b, this.c) & 2) == 2) {
                  this.h = 1;
               } else {
                  this.h = 6;
               }

               this.g = 0;
            }

            this.ab = 0;
            this.a = null;
            this.b = null;
            this.d = null;
            this.c = null;
            this.b = null;
            this.aO = 0;
            this.aN = 0;
            this.aM = 0;
            this.a = null;
            this.a = null;
            this.a = null;
            this.a = null;
            this.a = null;
            if ((TileMap.b(this.b, this.c) & 2) != 2) {
               this.T = 5;
            }
         }

         if (this.a != null && this.a == null && this.a() != null && this.ab >= this.a().length) {
            if (!this.j) {
               if ((TileMap.b(this.b, this.c) & 2) == 2) {
                  this.h = 1;
               } else {
                  this.h = 6;
               }

               this.g = 0;
            }

            this.ab = 0;
            this.a = null;
            this.b = null;
            this.d = null;
            this.c = null;
            this.b = null;
            this.aO = 0;
            this.aN = 0;
            this.aM = 0;
            this.a = null;
            if ((TileMap.b(this.b, this.c) & 2) != 2) {
               this.T = 5;
            }
         }

         dt[] var9 = this.a();
         if (var9 != null && this.ab >= 0 && this.ab <= var9.length - 1) {
            if (var9[this.ab].b != 0) {
               this.b = GameSrc.a[var9[this.ab].b - 1];
               this.aS = 0;
               this.aP = 0;
               this.aM = 0;
            }

            if (var9[this.ab].e != 0) {
               this.c = GameSrc.a[var9[this.ab].e - 1];
               this.aT = 0;
               this.aQ = 0;
               this.aN = 0;
            }

            if (var9[this.ab].h != 0) {
               this.d = GameSrc.a[var9[this.ab].h - 1];
               this.aU = 0;
               this.aR = 0;
               this.aO = 0;
            }

            int var3 = this.ab;
            Object var8;
            if (var9 != null && var9[var3] != null && var3 >= 0 && var3 <= var9.length - 1 && var9[var3].k != 0) {
               int var4 = var9[var3].k;
               if (var4 >= 100) {
                  if (this.a == null) {
                     var8 = this.a;
                  } else {
                     var8 = this.a;
                  }

                  if (var8 != null) {
                     if (cq.f(((as)var8).a() - this.b) <= cq.f(((as)var8).b() - this.c) << 2) {
                        byte var2;
                        if (((as)var8).b() < this.c) {
                           var2 = -3;
                        } else {
                           var2 = 3;
                        }

                        var1 = var2;
                        if (var8 instanceof be) {
                           var1 = var2;
                           if (((be)var8).m) {
                              var1 = -20;
                           }
                        }
                     }

                     bj var11 = this.b;
                     int var5 = this.b;
                     int var10 = var9[var3].l;
                     int var7 = this.i;
                     int var6 = this.c;
                     this.a = new an(this, var4 - 100, var11, var5 + (var10 - 10) * var7, var9[var3].m + var6 + var1);
                     if (this.a != null) {
                        if (this.a.a.a == 1) {
                           pasta.aw.a();
                        } else if (this.a.a.a == 3) {
                           pasta.aw.a();
                        } else if (this.a.a.a == 5) {
                           pasta.aw.a();
                        } else if (this.a.a.a == 11) {
                           pasta.aw.a();
                        }
                     }
                  } else if (this.B || this.A) {
                     this.n();
                  }
               } else {
                  this.a = new co(this, GameSrc.a[var4 - 1]);
                  this.a.a = 10;
                  this.a.b = this.b + var9[var3].l;
                  this.a.c = this.c + var9[var3].m;
               }
            }

            if ((this.a != null || !this.j && this.a != null || this.j && this.a != null && (b(this.a) || this.b()) && this.a == null && this.a == null) && this.ab == var9.length - 1) {
               this.o();
            }

            if (!this.j) {
               if (this.a != null) {
                  var8 = this.a;
               } else if (this.a != null) {
                  var8 = this.a;
               } else {
                  var8 = null;
               }

               if (var8 != null) {
                  if (cq.f(((as)var8).a() - this.b) < 10) {
                     if (((as)var8).a() > this.b) {
                        this.b -= 10;
                     } else {
                        this.b += 10;
                     }
                  }

                  if (((as)var8).a() > this.b) {
                     this.i = 1;
                  } else {
                     this.i = -1;
                  }
               }
            }
         }
      }

   }

   private void H() {
      this.aJ = 0;
      ++this.f;
      if (this.i == 1) {
         if ((TileMap.b(this.b + this.as, this.c - this.at) & 4) == 4) {
            this.d = 0;
         }
      } else if ((TileMap.b(this.b - this.as, this.c - this.at) & 8) == 8) {
         this.d = 0;
      }

      if (this.c > this.B && TileMap.a(this.b, this.c - this.B + 24, 8192)) {
         if (!TileMap.a(this.b, this.c, 2)) {
            this.h = 4;
            this.f = 0;
            this.aq = 0;
            this.e = 1;
         } else {
            this.c = TileMap.a(this.c);
         }
      }

      this.b += this.d;
      this.c += this.e;
      if (this.c < 0) {
         this.e = 0;
         this.c = 0;
      }

      if (this.e == 0) {
         if ((TileMap.b(this.b, this.c) & 2) != 2) {
            this.h = 4;
            this.d = (this.n >> 1) * this.i;
            this.aq = 0;
            this.f = 0;
         }
      } else if (this.e < 0) {
         ++this.e;
         if (this.e == 0) {
            this.e = 1;
         }
      } else {
         if (this.e < 20 && this.f % 5 == 0) {
            ++this.e;
         }

         if (this.e > 3) {
            this.e = 3;
         }

         if ((TileMap.b(this.b, this.c + 3) & 2) == 2 && this.c <= TileMap.b(this.c + 3)) {
            this.e = 0;
            this.d = 0;
            this.c = TileMap.b(this.c + 3);
         }
      }

      if (this.d > 0) {
         --this.d;
      } else if (this.d < 0) {
         ++this.d;
      }

   }

   private void I() {
      this.n = false;
      if (this.o) {
         this.o = false;
         pasta.aw.a();
         pasta.av.a().a((byte)3);
      }

      this.b += this.d * this.i;
      this.c += this.aG;
      ++this.aG;
      if (this.f == 0) {
         this.C = 7;
      } else {
         this.C = 23;
      }

      if (this.aG == -3) {
         this.C = 8;
      } else if (this.aG == -2) {
         this.C = 9;
      } else if (this.aG == -1) {
         this.C = 10;
      } else if (this.aG == 0) {
         this.C = 11;
      }

      if (this.aG == 0) {
         this.h = 6;
         this.g = 0;
         ((ck)this.f.firstElement()).c = 4;
         this.f = 0;
         this.e = 1;
      }

   }

   private void J() {
      if (!main.a.a.a && !this.F && !this.K && !this.ad && !this.ab && !this.ac && !main.a.b && this.k != 1) {
         ++this.aJ;
         if (this.r < 14) {
            if (this.r >= 9 && !main.a.b && (this.aJ == 40 || this.aJ == 50)) {
               main.a.a().a(-1, this.b + 8, this.c);
               main.a.a().a(1, this.b - 8, this.c);
               this.goToMap(1);
            }

            if (this.aJ > 50 && this.r >= 9) {
               if (this.k == 0) {
                  if (main.a.g % 25 == 0) {
                     pasta.y.a(114, this, 1);
                  }

                  if (this.r >= 13 && main.a.g % 4 == 0) {
                     pasta.y.a(132, this, 1);
                  }
               }

               if (this.k == 1) {
                  if (main.a.g % 4 == 0) {
                     pasta.y.a(132, this, 1);
                  }

                  if (this.r >= 13 && main.a.g % 7 == 0) {
                     pasta.y.a(131, this, 1);
                  }
               }

               if (this.k == 2) {
                  if (main.a.g % 7 == 0) {
                     pasta.y.a(131, this, 1);
                  }

                  if (this.r >= 13 && main.a.g % 25 == 0) {
                     pasta.y.a(114, this, 1);
                  }
               }
            }
         }
      }

   }

   private void K() {
      this.h = 6;
      this.g = 0;
      this.d = 0;
      this.e = 0;
      this.aq = 0;
      this.f = 0;
   }

   private void L() {
      this.R();
      this.goToMap(3);
      this.aJ = 0;
      this.n = false;
      if (this.o) {
         this.o = false;
         pasta.aw.a();
         pasta.av.a().a((byte)3);
      }

      this.b += this.d;
      this.c += this.e;
      if (this.c < 0) {
         this.c = 0;
         this.e = -1;
      }

      ++this.e;
      if (this.e > 0) {
         this.e = 0;
      }

      if (!this.j && this.a != null) {
         label95: {
            int var1 = this.a.a - this.b;
            if (var1 > 0) {
               if (this.d > var1) {
                  this.d = var1;
               }

               if (this.d >= 0) {
                  break label95;
               }
            } else if (var1 < 0) {
               if (this.d < var1) {
                  this.d = var1;
               }

               if (this.d <= 0) {
                  break label95;
               }
            }

            this.d = var1;
         }
      }

      if (this.i == 1) {
         if ((TileMap.b(this.b + this.as, this.c - 1) & 4) == 4 && this.b <= TileMap.b(this.b + this.as) + 12) {
            this.b = TileMap.b(this.b + this.as) - this.as;
            this.d = 0;
         }
      } else if ((TileMap.b(this.b - this.as, this.c - 1) & 8) == 8 && this.b >= TileMap.b(this.b - this.as) + 12) {
         this.b = TileMap.b(this.b + 24 - this.as) + this.as;
         this.d = 0;
      }

      if (this.e == 0) {
         if (this.j) {
            this.M();
         } else {
            this.K();
         }
      }

      if (this.j && !u && this.j()) {
         pasta.av.a().g();
         if (TileMap.a()) {
            u = true;
            pasta.av.a().p();
         } else {
            pasta.av.a().f();
         }

         v = true;
         u = true;
         main.a.e();
         main.a.onCancelChat();
         pasta.a.e();
      } else {
         if (this.h != 16 && (TileMap.a(this.b, this.c - this.B + 24, 8192) || this.c < 0)) {
            this.h = 4;
            this.f = 0;
            this.aq = 0;
            this.e = 1;
            this.T = 0;
            if (this.c < 0) {
               this.c = 0;
            }

            this.c = TileMap.a(this.c + 25);
            main.a.e();
         }

         if (this.g < 0) {
            ++this.g;
         }

         this.C = 7;
         if (!this.j && this.a != null && this.c < this.a.b) {
            this.K();
         }
      }

   }

   private void M() {
      this.ar = this.c;
      this.f = 0;
      this.aq = 0;
      this.h = 10;
      this.d = this.i << 2;
      this.e = 0;
      this.c = TileMap.a(this.c) + 12;
      if (this.j && (this.b - this.R != 0 || this.c - this.S != 0) && (cq.f(myCharz().b - myCharz().R) > 96 || cq.f(myCharz().c - myCharz().S) > 24)) {
         pasta.av.a().g();
      }

   }

   private void N() {
      if (!this.I) {
         this.aJ = 0;
         if (this.c + 4 >= TileMap.d) {
            this.h = 1;
            if (this.j) {
               pasta.aw.a();
            }

            this.e = 0;
            this.d = 0;
            this.g = 0;
         } else {
            if (this.c % 24 == 0 && (TileMap.b(this.b, this.c) & 2) == 2) {
               this.T = 0;
               if (this.j) {
                  if (this.c - this.S > 0 || this.b - this.R != 0 || this.c - this.S < 0) {
                     pasta.av.a().g();
                  }

                  this.e = 0;
                  this.d = 0;
                  this.aq = 0;
                  this.f = 0;
                  this.h = 1;
                  this.g = 0;
                  return;
               }

               this.K();
               this.C = 0;
               main.a.a().a(-1, this.b + 8, this.c);
               main.a.a().a(1, this.b - 8, this.c);
               this.goToMap(1);
            }

            if (this.T > 0) {
               --this.T;
               if (this.T % 10 > 5) {
                  ++this.c;
               } else {
                  --this.c;
               }
            } else {
               if (this.e < -4) {
                  this.C = 7;
               } else {
                  this.C = 12;
               }

               this.b += this.d;
               if (!this.j && this.a != null) {
                  label142: {
                     int var1 = this.a.a - this.b;
                     if (var1 > 0) {
                        if (this.d > var1) {
                           this.d = var1;
                        }

                        if (this.d >= 0) {
                           break label142;
                        }
                     } else if (var1 < 0) {
                        if (this.d < var1) {
                           this.d = var1;
                        }

                        if (this.d <= 0) {
                           break label142;
                        }
                     }

                     this.d = var1;
                  }
               }

               ++this.e;
               if (this.e > 8) {
                  this.e = 8;
               }

               if (this.b == null) {
                  this.c += this.e;
               }

               if (this.i == 1) {
                  if ((TileMap.b(this.b + this.as, this.c - 1) & 4) == 4 && this.b <= TileMap.b(this.b + this.as) + 12) {
                     this.b = TileMap.b(this.b + this.as) - this.as;
                     this.d = 0;
                  }
               } else if ((TileMap.b(this.b - this.as, this.c - 1) & 8) == 8 && this.b >= TileMap.b(this.b - this.as) + 12) {
                  this.b = TileMap.b(this.b + 24 - this.as) + this.as;
                  this.d = 0;
               }

               if (this.e > 3 && (this.ar == 0 || this.ar <= TileMap.a(this.c + 3)) && (TileMap.b(this.b, this.c + 3) & 2) == 2) {
                  if (this.j) {
                     this.ar = 0;
                     this.e = 0;
                     this.d = 0;
                     this.aq = 0;
                     this.f = 0;
                     this.c = TileMap.b(this.c + 3);
                     this.h = 1;
                     if (this.j) {
                        pasta.aw.a();
                     }

                     this.g = 0;
                     main.a.a().a(-1, this.b + 8, this.c);
                     main.a.a().a(1, this.b - 8, this.c);
                     this.goToMap(1);
                     if (this.c - this.S > 0) {
                        if (this.j) {
                           pasta.av.a().g();
                        }
                     } else if ((this.b - this.R != 0 || this.c - this.S < 0) && this.j) {
                        pasta.av.a().g();
                     }
                  } else {
                     this.K();
                     this.c = TileMap.b(this.c + 3);
                     this.C = 0;
                     main.a.a().a(-1, this.b + 8, this.c);
                     main.a.a().a(1, this.b - 8, this.c);
                     this.goToMap(1);
                  }
               } else {
                  this.C = 12;
                  if (!this.j) {
                     if ((TileMap.b(this.b, this.c + 1) & 2) == 2) {
                        this.C = 0;
                     }

                     if (this.a != null && this.c > this.a.b) {
                        this.K();
                     }
                  }
               }
            }
         }
      }

   }

   private void O() {
      byte var1;
      if (this.k == 1 && !this.j) {
         var1 = 2;
      } else {
         var1 = 1;
      }

      this.R();
      if (this.h != 16 && (TileMap.a(this.b, this.c - this.B + 24, 8192) || this.c < 0)) {
         if (this.c - this.B < 0) {
            this.c = this.B;
         }

         this.C = 7;
         this.h = 4;
         this.d = 0;
         this.aq = 0;
         this.a = null;
      } else {
         int var2 = this.c;
         ++this.f;
         if (this.f >= 9) {
            this.f = 0;
            if (!this.j) {
               this.e = 0;
               this.d = 0;
            }
         }

         this.C = 8;
         int var3;
         int var4;
         if (cq.f(this.d) <= 4 && this.j) {
            if (this.a != null) {
               var3 = a(this.b - this.a.a);
               var4 = a(this.c - this.a.b);
               if (var3 > var4 * 10) {
                  this.C = 8;
               } else if (var3 > var4 && var3 > 48 && var4 > 32) {
                  this.C = 8;
               } else {
                  this.C = 7;
               }
            } else {
               if (this.e < 0) {
                  this.e = 0;
               }

               if (this.e > 16) {
                  this.e = 16;
               }

               this.C = 7;
            }
         }

         if (!this.j) {
            if (a(this.d) < 2) {
               this.d = (this.i << 1) * var1;
            }

            if (this.e != 0) {
               this.C = 7;
            }

            if (a(this.d) <= 2) {
               ++this.aq;
               if (this.aq > 32) {
                  this.h = 4;
                  this.d = 0;
                  this.e = 0;
               }
            }
         }

         if (this.i == 1) {
            if (TileMap.a(this.b + this.as, this.c - 1, 4)) {
               this.d = 0;
               this.b = TileMap.b(this.b + this.as) - this.as;
               if (this.e == 0) {
                  this.a = null;
               }
            }
         } else if (TileMap.a(this.b - this.as - 1, this.c - 1, 8)) {
            this.d = 0;
            this.b = TileMap.b(this.b - this.as - 1) + TileMap.a + this.as;
            if (this.e == 0) {
               this.a = null;
            }
         }

         this.b += this.d * var1;
         var3 = this.c;
         this.c = var1 * this.e + var3;
         if (!this.S && var2 - this.c == 0) {
            ++this.aJ;
            ++this.aI;
            var2 = this.U;
            byte var7;
            if (!this.X) {
               var7 = 1;
            } else {
               var7 = -1;
            }

            this.U = var7 + var2;
            if (this.aI == 10) {
               this.aI = 0;
               boolean var6;
               if (this.X) {
                  var6 = false;
               } else {
                  var6 = true;
               }

               this.X = var6;
            }

            if (this.aJ > 20) {
               this.T = 10;
               if (main.a.g % 3 == 0) {
                  var3 = this.b;
                  if (this.i == 1) {
                     var7 = -17;
                  } else {
                     var7 = 27;
                  }

                  int var5 = this.c;
                  var4 = this.U;
                  byte var8;
                  if (this.i != 1) {
                     var8 = 2;
                  } else {
                     var8 = 0;
                  }

                  pasta.y.b(111, var7 + var3, var5 + var4 + 13, var8);
               }
            }
         }

         if (this.j) {
            if (this.d > 0) {
               --this.d;
            } else if (this.d < 0) {
               ++this.d;
            } else if (this.e == 0) {
               this.h = 4;
               this.S();
               pasta.av.a().g();
            }

            if ((TileMap.b(this.b, this.c + 20) & 2) == 2 || (TileMap.b(this.b, this.c + 40) & 2) == 2) {
               if (this.e == 0) {
                  this.T = 0;
               }

               this.ar = 0;
               this.e = 0;
               this.d = 0;
               this.aq = 0;
               this.f = 0;
               this.h = 4;
               this.goToMap(3);
            }

            if (a(this.b - this.R) > 96 || a(this.c - this.S) > 24) {
               pasta.av.a().g();
            }
         }
      }

   }

   private void P() {
      ++this.av;
      if (this.av > this.a.length - 1) {
         this.av = 0;
      }

      ++this.aw;
      if (this.aw > 1000) {
         this.aw = 0;
      }

      if (this.R && !this.S) {
         this.aA = this.c;
         if (this.ax == 0) {
            if (this.az - this.b >= this.aF) {
               this.az -= this.aF;
            } else {
               this.az = this.b;
               this.S = true;
               this.T = false;
            }
         } else if (this.ax == 2) {
            if (this.b - this.az >= this.aF) {
               this.az += this.aF;
            } else {
               this.az = this.b;
               this.S = true;
               this.T = false;
            }
         }
      } else if (this.S) {
         if ((this.h == 14 || this.ad - this.c < 24) && this.ad - this.c < 24 && !this.T) {
            this.R = false;
            this.S = false;
            this.T = true;
            this.aE = 0;
         }

         if (this.f % 15 < 5) {
            this.C = 0;
         } else {
            this.C = 1;
         }

         this.ax = this.i;
         this.J();
         if (this.ax < 0) {
            this.ax = 0;
            this.aB = -20;
         } else if (this.ax == 1) {
            this.ax = 2;
            this.aB = -30;
            if (this.s) {
               this.aB = -38;
            }
         }

         if (this.a() != null) {
            this.aC = -15;
         } else {
            this.aC = -17;
         }

         this.aA = this.c;
         this.az = this.b;
      } else if (this.T) {
         if (this.ax == 0) {
            if (this.az > GameSrc.k - 100) {
               this.az -= 20;
            } else {
               this.R = false;
               this.S = false;
               this.T = false;
            }
         } else if (this.ax == 2) {
            if (this.az < GameSrc.k + main.a.i + 50) {
               this.az += 20;
            } else {
               this.R = false;
               this.S = false;
               this.T = false;
            }
         }
      } else if (!this.R || !this.S || !this.T) {
         this.az = GameSrc.k - 100;
         this.aA = GameSrc.l - 100;
      }

   }

   private static void Q() {
      if (pasta.i.a[50].a == null) {
         pasta.i.a[50].a = new bl();
         if ("".getClass().getResourceAsStream("/Mob/50") != null) {
            pasta.i.a[50].a.a("/Mob/50" + "/data");
            pasta.i.a[50].a.a = dz.b("/Mob/50" + "/img.png");
         } else {
            pasta.av.a().e(50);
         }

         pasta.i.a.addElement("50");
      }

   }

   private void R() {
      int var2;
      if (this.j) {
         var2 = 0;

         short var1;
         boolean var4;
         while(true) {
            if (var2 >= this.arrItemBag.length) {
               var4 = false;
               var1 = -1;
               break;
            }

            if (this.arrItemBag[var2] != null && (this.arrItemBag[var2].itemTemplate.type == 24 || this.arrItemBag[var2].itemTemplate.type == 23)) {
               if (this.arrItemBag[var2].itemTemplate.c >= 0) {
                  short var3 = a;
                  var1 = (short)(this.arrItemBag[var2].itemTemplate.c + var3);
               } else {
                  var1 = this.arrItemBag[var2].itemTemplate.templateId;
               }

               var4 = true;
               break;
            }

            ++var2;
         }

         this.r = false;
         this.t = false;
         this.s = false;
         this.b = -1;
         if (var1 != 349 && var1 != 350 && var1 != 351) {
            if (var1 == 396) {
               this.s = true;
            } else if (var1 == 532) {
               this.t = true;
            } else if (var1 >= a) {
               this.b = var1;
            }
         } else {
            this.r = true;
         }

         this.q = var4;
         if (TileMap.mapId == 112 || TileMap.mapId == 113 || TileMap.mapId == 51 || TileMap.mapId == 103) {
            this.q = false;
         }
      }

      if (this.q) {
         if (this.ad - this.c <= 20) {
            this.aD = this.b;
         }

         if (this.aE < 100) {
            this.aE = cq.f(this.aD - this.b);
         }

         if (this.aE >= 70 && this.ad - this.c > 30 && !this.R && !this.T) {
            var2 = this.charID;
            int var5 = this.i;
            var2 = this.k;
            this.ax = var5;
            this.ay = var2;
            this.aF = 30;
            if (this.ax < 0) {
               this.ax = 0;
               this.az = GameSrc.k + main.a.i + 50;
               this.aB = -20;
            } else if (this.ax == 1) {
               this.ax = 2;
               this.az = GameSrc.k - 100;
               this.aB = -30;
            }

            this.aC = -17;
            this.aA = this.c;
            this.av = 0;
            this.aw = 0;
            this.S = false;
            this.T = false;
            this.R = true;
         }
      }

   }

   private void S() {
      boolean var3 = false;
      int var1 = 0;

      boolean var2;
      while(true) {
         if (var1 >= 150) {
            var2 = true;
            break;
         }

         var2 = var3;
         if ((TileMap.b(this.b, this.c + var1) & 2) == 2) {
            break;
         }

         var2 = var3;
         if (this.c + var1 > TileMap.b * TileMap.a - 24) {
            break;
         }

         var1 += 24;
      }

      if (var2) {
         this.T = 40;
      }

   }

   private void T() {
      if (myCharz().a == null && myCharz().a == null && myCharz().a == null) {
         if (this.ba > 0) {
            --this.ba;
         } else {
            if (E && this.a != null && (this.a.h == 15 || this.a.l)) {
               this.a = null;
            }

            if (main.a.g % 2 != 0 && !b(this.a)) {
               byte var6;
               if (this.a.a != 0 && this.a.a != 1 && this.a.a != 3 && this.a.a != 5) {
                  var6 = 0;
               } else {
                  var6 = 40;
               }

               int[] var11 = new int[]{-1, -1, -1, -1};
               int var2 = GameSrc.k - 10;
               int var3 = GameSrc.k + main.a.i + 10;
               int var1 = GameSrc.l;
               int var4 = GameSrc.l + main.a.j - GameSrc.i + 10;
               if (E) {
                  if (this.a != null && this.a.h != 1 && this.a.h != 0 && var2 <= this.a.e && this.a.e <= var3 && var1 <= this.a.f && this.a.f <= var4 || this.a != null && var2 <= this.a.b && this.a.b <= var3 && var1 <= this.a.c && this.a.c <= var4 || this.a != null && var2 <= this.a.b && this.a.b <= var3 && var1 <= this.a.c && this.a.c <= var4 || this.a != null && var2 <= this.a.a && this.a.a <= var3 && var1 <= this.a.b && this.a.b <= var4) {
                     return;
                  }

                  E = false;
               }

               int var7 = myCharz().b - 80;
               int var9 = myCharz().b + 80;
               int var5 = myCharz().c - 30;
               int var8 = myCharz().c + 30;
               var4 = var9;
               var3 = var7;
               var1 = var5;
               var2 = var8;
               if (this.a != null) {
                  var4 = var9;
                  var3 = var7;
                  var1 = var5;
                  var2 = var8;
                  if (this.a.all.a == 6) {
                     var3 = myCharz().b - 20;
                     var4 = myCharz().b + 20;
                     var1 = myCharz().c - 10;
                     var2 = myCharz().c + 10;
                  }
               }

               int var10;
               cm var12;
               if (this.a == null) {
                  var7 = 0;
                  var5 = var3;
                  var3 = var4;

                  for(var4 = var1; var7 < GameSrc.g.size(); var3 = var1) {
                     var12 = (cm)GameSrc.g.elementAt(var7);
                     if (var12.h == 15) {
                        var1 = var3;
                        var3 = var4;
                     } else {
                        var5 = Math.abs(myCharz().b - var12.b);
                        var1 = Math.abs(myCharz().c - var12.c);
                        if (var5 <= var1) {
                           var5 = var1;
                        }

                        var4 = myCharz().b;
                        var2 = myCharz().b;
                        var1 = myCharz().c;
                        var3 = myCharz().c;
                        if (var12.all.a == 6) {
                           var4 = myCharz().b;
                           var2 = myCharz().b;
                           var1 = myCharz().c;
                           var3 = myCharz().c + 10;
                           var1 -= 10;
                           var2 += 20;
                           var4 -= 20;
                        } else {
                           var3 += 30;
                           var1 -= 30;
                           var2 += 80;
                           var4 -= 80;
                        }

                        if (var4 > var12.b || var12.b > var2 || var1 > var12.c || var12.c > var3 || this.a != null && var5 >= var11[1]) {
                           var5 = var3;
                           var3 = var1;
                           var1 = var2;
                           var2 = var5;
                           var5 = var4;
                        } else {
                           this.a = var12;
                           var11[1] = var5;
                           var8 = var2;
                           var5 = var4;
                           var2 = var3;
                           var3 = var1;
                           var1 = var8;
                        }
                     }

                     ++var7;
                     var4 = var3;
                  }

                  var7 = var5;
                  var8 = var3;
                  var9 = var2;
                  var10 = var4;
               } else {
                  if (var3 <= this.a.b && this.a.b <= var4 && var1 <= this.a.c && this.a.c <= var2) {
                     this.a((int)1);
                     return;
                  }

                  this.U();
                  var5 = 0;

                  while(true) {
                     var10 = var1;
                     var9 = var2;
                     var8 = var4;
                     var7 = var3;
                     if (var5 >= GameSrc.g.size()) {
                        break;
                     }

                     var12 = (cm)GameSrc.g.elementAt(var5);
                     if (var12.h != 15) {
                        var7 = Math.abs(myCharz().b - var12.b);
                        var1 = Math.abs(myCharz().c - var12.c);
                        if (var7 <= var1) {
                           var7 = var1;
                        }

                        var3 = myCharz().b - 80;
                        var4 = myCharz().b;
                        var1 = myCharz().c;
                        var2 = myCharz().c;
                        if (var12.all.a == 6) {
                           var3 = myCharz().b - 20;
                           var4 = myCharz().b;
                           var1 = myCharz().c;
                           var2 = myCharz().c;
                           var1 -= 10;
                           var4 += 20;
                           var2 += 10;
                        } else {
                           var1 -= 30;
                           var4 += 80;
                           var2 += 30;
                        }

                        if (var3 <= var12.b && var12.b <= var4 && var1 <= var12.c && var12.c <= var2 && (this.a == null || var7 < var11[1])) {
                           this.a = var12;
                           var11[1] = var7;
                        }
                     }

                     ++var5;
                  }
               }

               ItemMap var14;
               if (this.a == null) {
                  for(var1 = 0; var1 < GameSrc.e.size(); ++var1) {
                     var14 = (ItemMap)GameSrc.e.elementAt(var1);
                     var3 = Math.abs(myCharz().b - var14.a);
                     var4 = Math.abs(myCharz().c - var14.b);
                     if (var3 > var4) {
                        var2 = var3;
                     } else {
                        var2 = var4;
                     }

                     if (var3 <= 48 && var4 <= 48 && (this.a == null || var2 < var11[3])) {
                        if (GameSrc.a().z != 0) {
                           GameSrc.a();
                           if (GameSrc.c() && var14.a.type != 9) {
                              continue;
                           }
                        }

                        this.a = var14;
                        var11[3] = var2;
                     }
                  }
               } else {
                  if (var7 <= this.a.a && this.a.a <= var8 && var10 <= this.a.b && this.a.b <= var9) {
                     this.a((int)3);
                     return;
                  }

                  this.a = null;

                  for(var1 = 0; var1 < GameSrc.e.size(); ++var1) {
                     var14 = (ItemMap)GameSrc.e.elementAt(var1);
                     var4 = Math.abs(myCharz().b - var14.a);
                     var3 = Math.abs(myCharz().c - var14.b);
                     var2 = var3;
                     if (var4 > var3) {
                        var2 = var4;
                     }

                     if (var7 <= var14.a && var14.a <= var8 && var10 <= var14.b && var14.b <= var9 && (this.a == null || var2 < var11[3])) {
                        if (GameSrc.a().z != 0) {
                           GameSrc.a();
                           if (GameSrc.c() && var14.a.type != 9) {
                              continue;
                           }
                        }

                        this.a = var14;
                        var11[3] = var2;
                     }
                  }
               }

               var8 = myCharz().b - myCharz().g() - 10;
               var7 = myCharz().b + myCharz().g() + 10;
               int var13 = myCharz().c - myCharz().h() - var6 - 20;
               var1 = myCharz().c + myCharz().h() + 20;
               if (var1 > myCharz().c + 30) {
                  var1 = myCharz().c + 30;
               }

               i var15;
               if (this.a == null) {
                  for(var2 = 0; var2 < GameSrc.f.size(); ++var2) {
                     var15 = (i)GameSrc.f.elementAt(var2);
                     var4 = Math.abs(myCharz().b - var15.e);
                     var3 = Math.abs(myCharz().c - var15.f);
                     if (var4 > var3) {
                        var3 = var4;
                     }

                     if (var8 <= var15.e && var15.e <= var7 && var13 <= var15.f && var15.f <= var1 && (this.a == null || var3 < var11[0])) {
                        this.a = var15;
                        var11[0] = var3;
                     }
                  }
               } else {
                  if (this.a.h != 1 && this.a.h != 0 && var8 <= this.a.e && this.a.e <= var7 && var13 <= this.a.f && this.a.f <= var1) {
                     this.a((int)0);
                     return;
                  }

                  this.a = null;

                  for(var2 = 0; var2 < GameSrc.f.size(); ++var2) {
                     var15 = (i)GameSrc.f.elementAt(var2);
                     var5 = Math.abs(myCharz().b - var15.e);
                     var4 = Math.abs(myCharz().c - var15.f);
                     var3 = var4;
                     if (var5 > var4) {
                        var3 = var5;
                     }

                     if (var8 <= var15.e && var15.e <= var7 && var13 <= var15.f && var15.f <= var1 && (this.a == null || var3 < var11[0])) {
                        this.a = var15;
                        var11[0] = var3;
                     }
                  }
               }

               Char var16;
               if (this.a == null) {
                  for(var2 = 0; var2 < GameSrc.d.size(); ++var2) {
                     var16 = (Char)GameSrc.d.elementAt(var2);
                     if (var16.h != 15 && !var16.l && this.f == 0 && this.g == 0) {
                        var3 = Math.abs(myCharz().b - var16.b);
                        var4 = Math.abs(myCharz().c - var16.c);
                        if (var3 <= var4) {
                           var3 = var4;
                        }

                        if (var8 <= var16.b && var16.b <= var7 && var13 <= var16.c && var16.c <= var1 && (this.a == null || var3 < var11[2])) {
                           this.a = var16;
                           var11[2] = var3;
                        }
                     }
                  }
               } else {
                  if (var8 <= this.a.b && this.a.b <= var7 && var13 <= this.a.c && this.a.c <= var1 && this.a.h != 15 && !this.a.l) {
                     this.a((int)2);
                     return;
                  }

                  this.a = null;

                  for(var2 = 0; var2 < GameSrc.d.size(); ++var2) {
                     var16 = (Char)GameSrc.d.elementAt(var2);
                     if (var16.h != 15 && !var16.l && this.f == 0 && this.g == 0) {
                        var5 = Math.abs(myCharz().b - var16.b);
                        var4 = Math.abs(myCharz().c - var16.c);
                        var3 = var4;
                        if (var5 > var4) {
                           var3 = var5;
                        }

                        if (var8 <= var16.b && var16.b <= var7 && var13 <= var16.c && var16.c <= var1 && (this.a == null || var3 < var11[2])) {
                           this.a = var16;
                           var11[2] = var3;
                        }
                     }
                  }
               }

               var3 = -1;

               for(var1 = 0; var1 < var11.length; var3 = var2) {
                  if (var3 == -1) {
                     var2 = var3;
                     if (var11[var1] != -1) {
                        var2 = var1;
                     }
                  } else {
                     var2 = var3;
                     if (var11[var1] < var11[var3]) {
                        var2 = var3;
                        if (var11[var1] != -1) {
                           var2 = var1;
                        }
                     }
                  }

                  ++var1;
               }

               this.a(var3);
               if (this.j && this.g()) {
                  if (this.a != null && !this.a.h) {
                     this.a = null;
                  }

                  this.a = null;
                  this.a = null;
               }
            }
         }
      } else {
         this.ba = 200;
      }

   }

   private void U() {
      if (this.j && this.a != null) {
         if (!main.a.a.a) {
            a = null;
         }

         this.a = null;
      }

   }

   private void V() {
      if (!main.a.b) {
         if (TileMap.a(this.b, this.c + 1, 1024)) {
            TileMap.a(this.b, this.c + 1);
            TileMap.a(this.b, this.c - 2);
         }

         if (TileMap.a(this.b - TileMap.a, this.c + 1, 512)) {
            TileMap.b(this.b - TileMap.a, this.c + 1);
            TileMap.b(this.b - TileMap.a, this.c - 2);
         }

         if (TileMap.a(this.b + TileMap.a, this.c + 1, 512)) {
            TileMap.b(this.b + TileMap.a, this.c + 1);
            TileMap.b(this.b + TileMap.a, this.c - 2);
         }
      }

   }

   private void W() {
      for(int var1 = 0; var1 < this.g.size(); ++var1) {
         ((cx)this.g.elementAt(var1)).a();
      }

   }

   private static int a(int var0) {
      if (var0 <= 0) {
         var0 = -var0;
      }

      return var0;
   }

   private cx a(int var1) {
      int var2 = 0;

      cx var3;
      while(true) {
         if (var2 >= this.g.size()) {
            var3 = null;
            break;
         }

         cx var4 = (cx)this.g.elementAt(var2);
         var3 = var4;
         if (var4.a == var1) {
            break;
         }

         ++var2;
      }

      return var3;
   }

   public static void a(boolean var0) {
      o var1 = myCharz().a;
      String var2 = var1.d[var1.a];
      if (var2 != null && !var2.equals("")) {
         if (var2.startsWith("#")) {
            String var3 = pasta.o.a(var2, "#", "");
            cm var4 = new cm(5, 0, -100, -100, 5, GameSrc.a.a[myCharz().k][2]);
            var4.c = -100;
            var4.b = -100;
            var4.I = GameSrc.a.a[myCharz().k][2];
            var4.charID = 5;
            if (main.a.a == GameSrc.a) {
               pasta.k.a(var3, var4);
            }
         } else if (var0) {
            GameSrc.a.a(var2, 0);
         }
      }

      GameSrc.c = true;
      (new StringBuffer("TASKx ")).append(myCharz().a.a);
      if (myCharz().a.a <= 2) {
         myCharz().h = false;
      } else {
         myCharz().h = true;
      }

      GameSrc.a().a = null;
      if (var1.a == 0) {
         pasta.e.b = false;
         GameSrc.a().c = null;
         GameSrc.c = false;
         GameSrc.a().a = null;
         if (var1.a < 4) {
            dy.U = false;
            GameSrc.I = -1;
         }

         if (var1.a == 4) {
            GameSrc.I = 1;
            dy.U = true;
         }

         if (var1.a >= 5) {
            GameSrc.a().c = GameSrc.a().d;
         }
      }

      if (var1.a == 1) {
         GameSrc.c = true;
      }

      if (var1.a > 0) {
         GameSrc.a().c = GameSrc.a().d;
         GameSrc.a().a = GameSrc.a().e;
      }

      if (var1.a >= 0) {
         Panel.h = true;
      } else {
         Panel.h = false;
      }

      if (var1.a < 12) {
         main.a.a.a = pasta.ab.a;
      } else {
         main.a.a.a = pasta.ab.b;
      }

      main.a.a.a[0] = main.a.a.a;
      if (b.a.a > 10) {
         pasta.aa.a("fake", "aa");
      }

   }

   public static boolean a(byte var0) {
      boolean var3 = true;
      boolean var2 = true;

      for(int var1 = 0; var1 < GameSrc.h.size(); ++var1) {
         do var4 = (do)GameSrc.h.elementAt(var1);
         if (var4 != null) {
            var2 = var3;
            if (var4.a == var0) {
               break;
            }

            var2 = false;
         }
      }

      return var2;
   }

   public static boolean a(Char var0) {
      int var4 = GameSrc.k;
      int var5 = GameSrc.k;
      int var3 = main.a.i;
      int var1 = GameSrc.l;
      int var2 = GameSrc.l;
      int var6 = GameSrc.b;
      boolean var7;
      if (var0.h != 15 && !var0.l && var4 <= var0.b && var0.b <= var5 + var3 && var1 + 10 <= var0.c && var0.c <= var2 + var6) {
         var7 = true;
      } else {
         var7 = false;
      }

      return var7;
   }

   public static Char b() {
      if (c == null) {
         Char var0 = new Char();
         c = var0;
         var0.j = false;
      }

      return c;
   }

   public static void b() {
      b = null;
   }

   public static boolean b(Char var0) {
      boolean var1 = true;
      if (var0 == null || myCharz().a == null || myCharz().a.a.c == 2 || myCharz().a.a.c == 4 && var0.h != 14 && var0.h != 5) {
         var1 = false;
      } else if ((var0.d != 3 || myCharz().d != 3) && myCharz().d != 5 && var0.d != 5 && (myCharz().d != 1 || var0.d != 1) && (myCharz().d != 4 || var0.d != 4) && (myCharz().L < 0 || myCharz().L != var0.charID) && (myCharz().M < 0 || myCharz().M != var0.charID || k()) && (var0.M < 0 || var0.M != myCharz().charID || k()) && (myCharz().e != 8 || var0.e == 0) && (myCharz().e == 0 || var0.e != 8) && (myCharz().e == var0.e || myCharz().e == 0 || var0.e == 0) || var0.h == 14 || var0.h == 5) {
         var1 = false;
      }

      return var1;
   }

   private void e(dm var1) {
      int var2;
      int var3;
      if (this.a != null) {
         for(var3 = 0; var3 < this.a.length; ++var3) {
            if (this.a[var3] != null) {
               if (this.a[var3].a != null) {
                  var2 = this.a[var3].a.f;
                  if (this.a[var3].a instanceof be) {
                     var2 = this.a[var3].a.f - 60;
                  }

                  if (this.a[var3].a instanceof ci) {
                     var2 = this.a[var3].a.f - 50;
                  }

                  if (this.a[var3].a instanceof s) {
                     var2 = this.a[var3].a.f - 40;
                  }

                  pasta.ao.a(var1, this.a[var3].a(), this.a[var3].a.e, var2, 0, 33);
               } else if (this.a[var3].a != null) {
                  pasta.ao.a(var1, this.a[var3].a(), this.a[var3].a.b, this.a[var3].a.c, 0, 33);
               }
            }
         }
      }

      if (this.aa >= 0 && this.a != null) {
         var3 = this.a.a[this.aa].c;
         var2 = this.b;
         pasta.ao.a(var1, var3, this.a.a[this.aa].a + var2, this.c + this.a.a[this.aa].b, 0, 3);
      }

   }

   private void f(dm var1) {
      try {
         if (this.l) {
            if (this.j) {
               if (main.a.g % 50 != 48 && main.a.g % 50 != 90) {
                  pasta.ao.a(var1, 1195, this.b, this.c - 18, 0, 3);
               } else {
                  pasta.ao.a(var1, 1196, this.b, this.c - 18, 0, 3);
               }
            }
         } else {
            this.a(var1, this.b, this.c + this.U, this.i, this.C, true);
         }
      } catch (Exception var2) {
      }

   }

   private int g() {
      int var1;
      if (this.a != null) {
         var1 = this.a.c;
      } else {
         var1 = 0;
      }

      return var1;
   }

   private void g(dm var1) {
      for(int var3 = 0; var3 < this.g.size(); ++var3) {
         cx var4 = (cx)this.g.elementAt(var3);
         if (var4.h == 0) {
            boolean var2;
            if (var4.i == 0) {
               if (this.h != 1 && this.h != 6) {
                  var2 = false;
               } else {
                  var2 = true;
               }
            } else {
               var2 = true;
            }

            if (var2) {
               var4.a(var1);
            }
         }
      }

   }

   private void goToMap(int var1) {
      if (!main.a.b) {
         if (var1 == 1) {
            dh.a(new cx(19, this.b - 5, this.c + 20, 2, 1, -1));
         } else if (var1 == 2) {
            if ((!this.j || this.k != 1) && this.d && main.a.g % 5 == 0) {
               dh.a(new cx(22, this.b - 5, this.c + 35, 2, 1, -1));
            }
         } else if (var1 == 3 && this.ad - this.c <= 5) {
            dh.a(new cx(19, this.b - 5, this.ad + 20, 2, 1, -1));
         }
      }

   }

   private int h() {
      int var1;
      if (this.a != null) {
         var1 = this.a.d;
      } else {
         var1 = 0;
      }

      return var1;
   }

   private void h(dm var1) {
      for(int var3 = 0; var3 < this.g.size(); ++var3) {
         cx var4 = (cx)this.g.elementAt(var3);
         if (var4.h == 1) {
            boolean var2;
            if (var4.i == 0) {
               if (this.h != 1 && this.h != 6) {
                  var2 = false;
               } else {
                  var2 = true;
               }
            } else {
               var2 = true;
            }

            if (var2) {
               var4.a(var1);
            }
         }
      }

   }

   private boolean j() {
      boolean var3;
      if (TileMap.c() && this.c >= TileMap.d - 48) {
         var3 = true;
      } else if (!this.b && !this.c) {
         int var2 = TileMap.a.size();
         byte var1 = 0;

         while(true) {
            if (var1 >= var2) {
               var3 = false;
               break;
            }

            ay var4 = (ay)TileMap.a.elementAt(var1);
            if ((TileMap.mapId == 47 || TileMap.c()) && this.c <= var4.b + var4.d && this.b > var4.a && this.b < var4.c) {
               if (TileMap.c() && this.d != 0) {
                  var3 = false;
               } else {
                  var3 = true;
               }
               break;
            }

            if (this.b >= var4.a && this.b <= var4.c && this.c >= var4.b && this.c <= var4.d && !var4.a) {
               var3 = true;
               break;
            }

            ++var1;
         }
      } else {
         var3 = false;
      }

      return var3;
   }

   private static boolean k() {
      boolean var1 = true;
      boolean var0 = var1;
      if (TileMap.mapId != 1) {
         var0 = var1;
         if (TileMap.mapId != 27) {
            var0 = var1;
            if (TileMap.mapId != 72) {
               var0 = var1;
               if (TileMap.mapId != 10) {
                  var0 = var1;
                  if (TileMap.mapId != 17) {
                     var0 = var1;
                     if (TileMap.mapId != 22) {
                        var0 = var1;
                        if (TileMap.mapId != 32) {
                           var0 = var1;
                           if (TileMap.mapId != 38) {
                              var0 = var1;
                              if (TileMap.mapId != 43) {
                                 if (TileMap.mapId == 48) {
                                    var0 = var1;
                                 } else {
                                    var0 = false;
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      }

      return var0;
   }

   public static void l() {
      byte var0 = 0;
      GameSrc.a().z = 0;
      Char var2 = myCharz();
      bj var1 = GameSrc.a[myCharz().a.a];
      if (!TileMap.a(myCharz().b, myCharz().c, 2)) {
         var0 = 1;
      }

      var2.a(var1, var0);
   }

   public static Char myCharz() {
      if (b == null) {
         Char var0 = new Char();
         b = var0;
         var0.j = true;
         b.i = true;
      }

      return b;
   }

   public static void t() {
      myCharz().a = null;

      for(int var0 = 0; var0 < myCharz().arrItemBag.length; ++var0) {
         if (myCharz().arrItemBag[var0] != null && myCharz().arrItemBag[var0].itemTemplate.type == 8) {
            myCharz().arrItemBag[var0] = null;
         }
      }

      cm.D();
   }

   public final void A() {
      this.O = false;
   }

   public final void B() {
      this.bc = this.V;
      this.bd = this.X;
      this.be = this.W;
      this.bf = this.Y;
   }

   public final void C() {
      if (this.bc != -1) {
         this.V = this.bc;
         this.bc = -1;
      }

      if (this.bd != -1) {
         this.X = this.bd;
         this.bd = -1;
      }

      if (this.be != -1) {
         this.W = this.be;
         this.be = -1;
      }

      if (this.bf != -1) {
         this.Y = this.bf;
         this.bf = -1;
      }

   }

   public final int a() {
      return this.b;
   }

   public final String a() {
      return this.a[this.r] + "+" + this.f / 100L + "." + this.f % 100L + "%";
   }

   public final al a(ds var1) {
      int var2 = 0;

      al var3;
      while(true) {
         if (var2 >= this.a.size()) {
            var3 = null;
            break;
         }

         if (((al)this.a.elementAt(var2)).a.a == var1.a) {
            var3 = (al)this.a.elementAt(var2);
            break;
         }

         ++var2;
      }

      return var3;
   }

   public final ay a() {
      o var3 = b.a;
      ay var5;
      if (var3 != null && var3.a == 0 && var3.a < 6) {
         var5 = null;
      } else {
         int var2 = TileMap.a.size();
         byte var1 = 0;

         while(true) {
            if (var1 >= var2) {
               var5 = null;
               break;
            }

            ay var4 = (ay)TileMap.a.elementAt(var1);
            if (pasta.ar.a.size() >= var2 && !((ar)pasta.ar.a.elementAt(var1)).b) {
               var5 = null;
               break;
            }

            if (this.b >= var4.a && this.b <= var4.c && this.c >= var4.b && this.c <= var4.d && var4.a) {
               var5 = var4;
               if (var4.b) {
                  break;
               }
            }

            ++var1;
         }
      }

      return var5;
   }

   public final void a() {
      long var4 = 1L;
      long var2 = 0L;

      int var1;
      boolean var10001;
      try {
         var1 = GameSrc.a.length - 1;
      } catch (Exception var12) {
         var10001 = false;
         return;
      }

      while(true) {
         if (var1 < 0) {
            var1 = 0;
            break;
         }

         label52: {
            label64: {
               label50: {
                  try {
                     if (this.a < GameSrc.a[var1]) {
                        break label64;
                     }

                     if (var1 != GameSrc.a.length - 1) {
                        break label50;
                     }
                  } catch (Exception var13) {
                     var10001 = false;
                     return;
                  }

                  var2 = var4;
                  break label52;
               }

               try {
                  var4 = GameSrc.a[var1 + 1];
                  var2 = GameSrc.a[var1];
               } catch (Exception var11) {
                  var10001 = false;
                  return;
               }

               var2 = var4 - var2;
               break label52;
            }

            --var1;
            continue;
         }

         long var6;
         try {
            var6 = this.a - GameSrc.a[var1];
         } catch (Exception var10) {
            var10001 = false;
            return;
         }

         var4 = var2;
         var2 = var6;
         break;
      }

      try {
         this.r = var1;
         this.f = (long)((int)(var2 * 10000L / var4));
      } catch (Exception var9) {
         var10001 = false;
      }

   }

   public final void a(byte var1) {
      this.ak = 0;
      if (var1 == 4 || var1 == 5) {
         if (this.j) {
            label279: {
               Object var3 = pasta.av.a();

               label269: {
                  Message var2;
                  label278: {
                     label267: {
                        label266: {
                           try {
                              var2 = new Message((byte)125);
                              break label266;
                           } catch (Exception var22) {
                              var3 = var22;
                           } finally {
                              ;
                           }

                           var2 = null;
                           break label267;
                        }

                        try {
                           var2.a().writeByte(var1);
                           ((av)var3).a.a(var2);
                           break label269;
                        } catch (Exception var20) {
                           var3 = var20;
                        } finally {
                           break label278;
                        }
                     }

                     try {
                        ((Throwable)var3).printStackTrace();
                     } finally {
                        break label278;
                     }

                     break label279;
                  }

                  var2.a();
                  throw var3;
               }

            }
         }

         dh.a(new cx(34, this.b, this.c + 12, 2, 1, -1));
      }

      if (var1 == 6) {
         dh.a(new cx(38, this.b, this.c + 12, 2, 1, -1));
      }

      if (this.j) {
         main.a.a.A();
         v = true;
      }

      this.K = true;
      if (var1 == 1) {
         this.d = false;
      } else {
         this.d = true;
      }

   }

   public final void a(int var1) {
      if (var1 == 0) {
         this.U();
         this.a = null;
         this.a = null;
      } else if (var1 == 1) {
         this.a = null;
         this.a = null;
         this.a = null;
      } else if (var1 == 2) {
         this.a = null;
         this.U();
         this.a = null;
      } else if (var1 == 3) {
         this.a = null;
         this.U();
         this.a = null;
      }

   }

   public final void a(int var1, int var2, int var3) {
      byte var4 = 1;
      if (var3 != 1 && cq.f(var1 - this.b) <= 100 && cq.f(var2 - this.c) <= 300) {
         int var6 = var1 - this.b;
         int var5 = var2 - this.c;
         byte var7;
         if (var6 == 0 && var5 == 0) {
            this.g = 0;
            var7 = var4;
         } else if (var5 == 0) {
            var4 = 2;
            var7 = var4;
            if (var6 < 0) {
               var7 = var4;
            }
         } else if (var5 != 0) {
            if (var5 < 0) {
               var7 = 3;
            } else {
               var7 = 0;
            }

            if (var5 > 0) {
               var7 = 4;
            }
         } else {
            var7 = 0;
         }

         this.f.addElement(new ck(var1, var2, var7));
         if (this.h != 6) {
            this.aZ = this.h;
         }

         this.h = 6;
         this.g = 0;
      } else {
         this.teleTo(this.b, this.c);
         this.b = var1;
         this.c = var2;
         this.f.removeAllElements();
         this.h = 6;
         this.g = 0;
         this.a = null;
         this.C = 25;
      }

   }

   public final void a(int var1, int var2, int var3, int var4) {
      if (var1 != -1) {
         this.V = var1;
      }

      if (var2 != -1) {
         this.X = var2;
      }

      if (var3 != -1) {
         this.W = var3;
      }

      if (var4 != -1) {
         this.Y = var4;
      }

   }

   public final void a(int var1, int var2, boolean var3, boolean var4) {
      byte var7 = 4;
      this.f = var3;
      this.e = var4;
      (new StringBuffer("CHP= ")).append(this.t).append(" dame -= ").append(var1).append(" HP FULL= ").append(this.w);
      this.t -= var1;
      this.s -= var2;
      GameSrc.a().q = true;
      GameSrc.a().P = 0;
      GameSrc.a().p = true;
      GameSrc.a().N = 0;
      if (this.t < 0) {
         this.t = 0;
      }

      if (this.s < 0) {
         this.s = 0;
      }

      if (var4 || !var4 && this.d != 4) {
         int var5;
         int var6;
         String var8;
         byte var9;
         if (var1 <= 0) {
            if (this.j) {
               var8 = pasta.ab.bW;
               var5 = this.b;
               var6 = this.c - this.B;
               var9 = 7;
            } else {
               var8 = pasta.ab.bW;
               var5 = this.b;
               var6 = this.c - this.B;
               var9 = var7;
            }
         } else {
            var8 = "-" + var1;
            var5 = this.b;
            var6 = this.c - this.B;
            if (!var3) {
               var9 = 0;
            } else {
               var9 = 3;
            }
         }

         GameSrc.a(var8, var5, var6, -2, var9);
      }

      if (var1 > 0) {
         this.m = 6;
      }

      pasta.y.a(80, this, 1);
      if (this.g) {
         this.g = false;
         v = false;
         this.a((short)this.ac, (short)this.ad);
      }

   }

   public final void a(Object var1) {
      if (var1 instanceof i) {
         this.a = (i)var1;
         this.U();
         this.a = null;
         this.a = null;
      } else if (var1 instanceof cm) {
         myCharz().a = null;
         myCharz().U();
         myCharz().a = (cm)var1;
         myCharz().a = null;
         myCharz().a = null;
      } else if (var1 instanceof Char) {
         myCharz().a = null;
         myCharz().U();
         myCharz().a = (Char)var1;
         myCharz().a = null;
      } else if (var1 instanceof ItemMap) {
         myCharz().a = null;
         myCharz().U();
         myCharz().a = null;
         myCharz().a = (ItemMap)var1;
      }

      E = true;
   }

   public final void a(String var1, short var2, short var3, short var4) {
      this.c = var2;
      this.c = var1;
      this.d = var3;
      this.e = var4;
      (new StringBuffer("sc= ")).append(var4).append(" max= ").append(var3);
      long var5 = System.currentTimeMillis();
      this.i = var5;
      this.h = var5;
   }

   public final void a(Char var1) {
      if (this.b < var1.b) {
         this.i = 1;
      } else {
         this.i = -1;
      }

      this.d = var1;
      this.I = true;
   }

   public final void a(bj var1, int var2) {
      this.Y = false;
      if (!this.P && !this.I && this.aj != 32 && (!this.j || this.a.a.a != 9 || this.t > this.w / 10)) {
         if (this.j) {
            if (this.a == null && this.a == null) {
               this.n();
            }

            if (this.a != null && (this.a.h == 1 || this.a.h == 0)) {
               this.n();
            }

            if (this.a != null && (this.a.h == 14 || this.a.h == 5)) {
               this.n();
            }

            if (this.a.a.a == 23 && (this.a != null && this.a.aj != 0 || this.a != null && this.a.b != 0 || this.aj != 0) || this.O || this.M) {
               return;
            }
         }

         (new StringBuffer(String.valueOf(this.a))).append(" SET SKILL PAINT ").append(this.j);
         (new StringBuffer("skill id= ")).append(var1.a);
         if ((!this.j || this.a == null) && !TileMap.b()) {
            long var3 = System.currentTimeMillis();
            if (this.j) {
               if (this.b() && this.a == null) {
                  return;
               }

               if (var3 - this.a.b < (long)this.a.b) {
                  this.a.a = true;
                  return;
               }

               this.a.b = var3;
               if (this.a.a.b == 2) {
                  this.s = 1;
               } else if (this.a.a.b != 1) {
                  this.s -= this.a.e;
               } else {
                  this.s -= this.a.e * this.x / 100;
               }

               Char var5 = myCharz();
               --var5.N;
               GameSrc.a().p = true;
               GameSrc.a().N = 0;
               if (this.s < 0) {
                  this.s = 0;
               }
            }

            if (this.j) {
               if (this.a.a.a == 7) {
                  pasta.aw.a();
               }

               if (this.a.a.a == 6) {
                  pasta.av.a().a((byte)0);
                  GameSrc.a().h = true;
                  pasta.aw.a();
               }

               if (this.a.a.a == 8) {
                  if (!this.o) {
                     pasta.aw.a();
                     pasta.av.a().a((byte)1);
                     this.o = true;
                     var3 = System.currentTimeMillis();
                     this.g = var3;
                     this.d = var3;
                  } else {
                     pasta.av.a().a((byte)3);
                     this.o = false;
                     pasta.aw.a();
                  }
               }

               if (this.a.a.a == 13) {
                  if (this.k != 0) {
                     GameSrc.a().z = 0;
                  } else if (!this.z) {
                     pasta.aw.a();
                     pasta.av.a().a((byte)6);
                     this.aX = 0;
                     this.G = true;
                     return;
                  }

                  return;
               }

               if (this.a.a.a == 14) {
                  pasta.aw.a();
                  pasta.av.a().a((byte)7);
                  this.b(true);
               }

               if (this.a.a.a == 21) {
                  pasta.av.a().a((byte)10);
                  return;
               }

               if (this.a.a.a == 12) {
                  pasta.av.a().a((byte)8);
               }

               if (this.a.a.a == 19) {
                  pasta.av.a().a((byte)9);
                  return;
               }
            }

            bj var6 = var1;
            if (this.k == 1) {
               var6 = var1;
               if (var1.a >= 35) {
                  var6 = var1;
                  if (var1.a <= 41) {
                     var6 = GameSrc.a[106];
                  }
               }
            }

            var1 = var6;
            if (var6.a >= 128) {
               var1 = var6;
               if (var6.a <= 134) {
                  var1 = GameSrc.a[var6.a - 65];
                  if (this.a != null) {
                     this.b = this.a.b;
                     this.c = this.a.c;
                     this.a = null;
                  }

                  if (this.a != null) {
                     this.b = this.a.e;
                     this.c = this.a.f;
                     this.a = null;
                  }

                  pasta.y.a(60, this.b, this.c, 1);
                  this.N = true;
               }
            }

            var6 = var1;
            if (var1.a >= 107) {
               var6 = var1;
               if (var1.a <= 113) {
                  var6 = GameSrc.a[var1.a - 44];
                  dh.a(new cx(23, this.b, this.c + this.B / 2, 3, 2, 1));
               }
            }

            this.b(var6, var2);
         }
      }

   }

   public final void a(cx var1) {
      this.c(0, var1.a);
      this.g.addElement(var1);
   }

   public final void a(dm var1) {
      byte var3 = 1;
      byte var4 = 1;
      if (this.az > GameSrc.k && this.az < GameSrc.k + main.a.i) {
         byte var2;
         int var5;
         int var6;
         ce var8;
         bl var10;
         if (this.j) {
            if (this.T || this.R || this.S) {
               if (this.b >= a) {
                  var8 = dz.a(this.d + (this.b - a) + "_1");
                  if (var8 != null) {
                     var8.a(this.aw / 2 % var8.c, this.az, this.aA + this.U, this.ax, 3, var1);
                  }
               } else if (this.t) {
                  this.a(this.a);
                  if (pasta.i.a[50] != null && pasta.i.a[50].a != null) {
                     var10 = pasta.i.a[50].a;
                     var5 = this.aL;
                     var6 = this.az;
                     if (this.i == 1) {
                        var2 = -8;
                     } else {
                        var2 = 8;
                     }

                     int var7 = this.aA;
                     var3 = var4;
                     if (this.i == 1) {
                        var3 = 0;
                     }

                     var10.a(var1, var5, var6 + var2, var7 + 35, var3, 0);
                  } else {
                     Q();
                  }
               } else if (this.s) {
                  var1.a(k, 0, this.a[this.av] * 60, 60, 60, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
               } else if (this.ay == 0) {
                  if (!this.r) {
                     var1.a(c, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                  } else {
                     var1.a(g, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                  }
               } else if (this.ay == 1) {
                  if (!this.r) {
                     var1.a(e, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                  } else {
                     var1.a(i, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                  }
               }
            }
         } else if (!this.j) {
            if (this.b >= a) {
               var8 = dz.a(this.d + (this.b - a) + "_1");
               if (var8 != null) {
                  var8.a(this.aw / 2 % var8.c, this.az, this.aA + this.U, this.ax, 3, var1);
               }
            } else if (this.t) {
               this.a(this.a);
               if (pasta.i.a[50] != null && pasta.i.a[50].a != null) {
                  var10 = pasta.i.a[50].a;
                  var5 = this.aL;
                  int var9 = this.az;
                  if (this.i == 1) {
                     var2 = -8;
                  } else {
                     var2 = 8;
                  }

                  var6 = this.aA;
                  if (this.i == 1) {
                     var3 = 0;
                  }

                  var10.a(var1, var5, var9 + var2, var6 + 35, var3, 0);
               } else {
                  Q();
               }
            } else if (this.s) {
               var1.a(k, 0, this.a[this.av] * 60, 60, 60, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
            } else if (this.S) {
               if (this.ay == 0) {
                  if (!this.r) {
                     var1.a(c, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                  } else {
                     var1.a(g, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                  }
               } else if (this.ay == 1) {
                  if (!this.r) {
                     var1.a(e, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                  } else {
                     var1.a(i, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                  }
               }
            }
         }
      }

   }

   public final void a(dm var1, int var2, int var3) {
      int var5 = this.t * 100 / this.w / 10 - 1;
      int var4 = var5;
      if (var5 < 0) {
         var4 = 0;
      }

      var5 = var4;
      if (var4 > 9) {
         var5 = 9;
      }

      var1.a(pasta.i.a, 0, (9 - var5) * 6, 9, 6, 0, var2, var3, 3);
   }

   public final void a(dm var1, int var2, int var3, int var4) {
      aa var7 = GameSrc.a[this.V];
      short var5 = var7.a[a[0][0][0]].a;
      int var6 = a[0][0][1];
      pasta.ao.a(var1, var5, var7.a[a[0][0][0]].a + var6 + var2 - 3, var3 + 3, var4, 36);
   }

   public final void a(dm param1, int param2, int param3, int param4, int param5, boolean param6) {
      // $FF: Couldn't be decompiled
   }

   public final void a(dm var1, short[] var2, int var3, int var4, int var5, boolean var6) {
      byte var7 = 0;
      byte var8 = 0;
      int var11 = bk.f;
      byte var10;
      if (var5 == 1) {
         var10 = 0;
      } else {
         var10 = 2;
      }

      if (this.h == 6) {
         var7 = 8;
         var8 = 17;
      }

      if (this.h == 1) {
         if (this.f % 15 < 5) {
            var7 = 8;
            var8 = 17;
         } else {
            var7 = 8;
            var8 = 18;
         }
      }

      if (this.h == 2) {
         if (this.C <= 3) {
            var7 = 7;
            var8 = 17;
         } else {
            var7 = 7;
            var8 = 18;
         }
      }

      byte var9;
      label110: {
         if (this.h != 3) {
            var9 = var8;
            var8 = var7;
            if (this.h != 9) {
               break label110;
            }
         }

         var8 = 5;
         var9 = 20;
      }

      var7 = var9;
      if (this.h == 4) {
         if (this.C == 8) {
            var8 = 5;
            var7 = 16;
         } else {
            var8 = 5;
            var7 = 20;
         }
      }

      if (this.h == 10) {
         if (this.C == 8) {
            var8 = 0;
            var7 = 23;
         } else {
            var8 = 5;
            var7 = 22;
         }
      }

      if (this.m > 0) {
         var8 = 5;
         var7 = 18;
      }

      byte var15;
      if (this.a != null && this.a() != null && this.ab < this.a().length) {
         var15 = -1;
         var8 = 17;
      } else {
         var9 = var7;
         var15 = var8;
         var8 = var9;
      }

      short var12;
      int var14;
      if (!var6) {
         if (var2.length == 2) {
            short var13 = var2[1];
            if (var5 == 1) {
               var5 = -var15;
            } else {
               var5 = var15;
            }

            pasta.ao.a(var1, var13, var3 + var5, var4 - var8, var10, var11);
         } else if (var2.length == 3) {
            if (var2[2] >= 0) {
               if (main.a.g % 10 > 5) {
                  var12 = var2[1];
                  var14 = var15;
                  if (var5 == 1) {
                     var14 = -var15;
                  }

                  pasta.ao.a(var1, var12, var14 + var3, var4 - var8, var10, var11);
               } else {
                  var12 = var2[2];
                  var14 = var15;
                  if (var5 == 1) {
                     var14 = -var15;
                  }

                  pasta.ao.a(var1, var12, var14 + var3, var4 - var8, var10, var11);
               }
            } else {
               var12 = var2[1];
               var14 = var15;
               if (var5 == 1) {
                  var14 = -var15;
               }

               pasta.ao.a(var1, var12, var14 + var3, var4 - var8, var10, var11);
            }
         }
      } else if (var2.length == 1) {
         var12 = var2[0];
         var14 = var15;
         if (var5 == 1) {
            var14 = -var15;
         }

         pasta.ao.a(var1, var12, var14 + var3, var4 - var8, var10, var11);
      } else if (main.a.g % 10 > 5) {
         var12 = var2[0];
         var14 = var15;
         if (var5 == 1) {
            var14 = -var15;
         }

         pasta.ao.a(var1, var12, var14 + var3, var4 - var8, var10, var11);
      } else {
         var12 = var2[1];
         var14 = var15;
         if (var5 == 1) {
            var14 = -var15;
         }

         pasta.ao.a(var1, var12, var14 + var3, var4 - var8, var10, var11);
      }

   }

   public final void a(i var1) {
      if (this.b < var1.e) {
         this.i = 1;
      } else {
         this.i = -1;
      }

      this.c = var1;
      this.I = true;
   }

   public final void a(short var1, short var2) {
      this.k = 0;
      this.G = false;
      if (!this.j || !this.g) {
         if (this.j) {
            this.x = true;

            for(int var3 = 0; var3 < GameSrc.d.size(); ++var3) {
               ((Char)GameSrc.d.elementAt(var3)).M = -9999;
            }

            if (main.a.a != null && main.a.a.a != null) {
               main.a.a.a = null;
            }

            if (main.a.b != null && main.a.b.a != null) {
               main.a.b.a = null;
            }
         }

         this.h = 5;
         this.aq = var1;
         this.g = var2;
         this.f = 0;
         this.t = 0;
         this.L = -9999;
         this.M = -9999;
         if (this.j && this.a != null && this.a.a.a != 14) {
            this.n();
         }

         this.d = 0;
      }

   }

   public final void a(short var1, short var2, byte var3) {
      this.ad = true;
      this.j = var1;
      this.k = var2;
      this.n = var3;
      this.bb = 0;
      if (this.j) {
         if (main.a.a != null) {
            main.a.a.B();
         }

         if (main.a.b != null) {
            main.a.b.B();
         }

         if (TileMap.mapId == 113) {
            this.d = 0;
            this.a = null;
         }
      }

   }

   public void a(int[] var1) {
      ++this.aK;
      if (this.aK > var1.length - 1) {
         this.aK = 0;
      }

      this.aL = var1[this.aK];
   }

   public final boolean a() {
      boolean var1;
      if (this.a != null && this.a.a.b()) {
         var1 = true;
      } else {
         var1 = false;
      }

      return var1;
   }

   public final boolean a(int var1) {
      boolean var3 = false;
      aa var4 = GameSrc.a[this.V];
      aa var5 = GameSrc.a[this.W];
      aa var6 = GameSrc.a[this.X];

      for(int var2 = 0; var2 < a.length; ++var2) {
         if (var1 == var4.a[a[var2][0][0]].a) {
            var3 = true;
            break;
         }

         if (var1 == var5.a[a[var2][1][0]].a) {
            var3 = true;
            break;
         }

         if (var1 == var6.a[a[var2][2][0]].a) {
            var3 = true;
            break;
         }
      }

      return var3;
   }

   public final dt[] a() {
      dt[] var1 = null;
      if (this.a != null && this.b != null) {
         if (this.aV == 0) {
            var1 = this.b.a;
         } else {
            var1 = this.b.b;
         }
      }

      return var1;
   }

   public final void autoPickItem() {
      int var1 = 0;
      this.ac = this.b;
      if (TileMap.a(this.b, this.c, 2)) {
         this.ad = this.c;
      } else {
         this.ad = this.c;

         while(var1 < 30) {
            ++var1;
            this.ad += 24;
            if (TileMap.a(this.ac, this.ad, 2)) {
               if (this.ad % 24 != 0) {
                  this.ad -= this.ad % 24;
               }
               break;
            }
         }
      }

   }

   public final int b() {
      return this.c;
   }

   public final ay b() {
      o var3 = b.a;
      ay var5;
      if (var3 != null && var3.a == 0 && var3.a < 6) {
         var5 = null;
      } else {
         int var2 = TileMap.a.size();
         byte var1 = 0;

         while(true) {
            if (var1 >= var2) {
               var5 = null;
               break;
            }

            ay var4 = (ay)TileMap.a.elementAt(var1);
            if (pasta.ar.a.size() >= var2 && !((ar)pasta.ar.a.elementAt(var1)).b) {
               var5 = null;
               break;
            }

            if (this.b >= var4.a && this.b <= var4.c && this.c >= var4.b && this.c <= var4.d && var4.a) {
               var5 = var4;
               if (!var4.b) {
                  break;
               }
            }

            ++var1;
         }
      }

      return var5;
   }

   public final void b(bj var1, int var2) {
      byte var6 = 105;
      int var3 = 6;
      this.a = var1;
      int var4;
      if (var1.a >= 0 && var1.a <= 6) {
         var4 = cq.b(0, var1.a + 4) - 1;
         var3 = var4;
         if (var4 < 0) {
            var3 = 0;
         }

         var4 = var3;
         if (var3 > 6) {
            var4 = 6;
         }

         this.b = GameSrc.a[var4];
      } else {
         int var5;
         if (var1.a >= 14 && var1.a <= 20) {
            var5 = cq.b(0, var1.a - 14 + 4) - 1;
            var4 = var5;
            if (var5 < 0) {
               var4 = 0;
            }

            if (var4 <= 6) {
               var3 = var4;
            }

            this.b = GameSrc.a[var3 + 14];
         } else if (var1.a >= 28 && var1.a <= 34) {
            if (this.k == 1) {
               var4 = 105;
            } else {
               var4 = var1.a;
            }

            byte var8;
            if (this.k == 1) {
               var8 = 105;
            } else {
               var8 = 28;
            }

            var5 = cq.b(0, var4 - var8 + 4) - 1;
            var4 = var5;
            if (var5 < 0) {
               var4 = 0;
            }

            if (var4 <= 6) {
               var3 = var4;
            }

            if (this.k == 1) {
               var3 = 0;
            }

            bj[] var7 = GameSrc.a;
            byte var9;
            if (this.k == 1) {
               var9 = var6;
            } else {
               var9 = 28;
            }

            this.b = var7[var3 + var9];
         } else if (var1.a >= 63 && var1.a <= 69) {
            var5 = cq.b(0, var1.a - 63 + 4) - 1;
            var4 = var5;
            if (var5 < 0) {
               var4 = 0;
            }

            if (var4 <= 6) {
               var3 = var4;
            }

            this.b = GameSrc.a[var3 + 63];
         } else if (var1.a >= 107 && var1.a <= 109) {
            var5 = cq.b(0, var1.a - 107 + 4) - 1;
            var4 = var5;
            if (var5 < 0) {
               var4 = 0;
            }

            if (var4 <= 6) {
               var3 = var4;
            }

            this.b = GameSrc.a[var3 + 107];
         } else {
            this.b = var1;
         }
      }

      this.aV = var2;
      this.ab = 0;
      this.aU = 0;
      this.aT = 0;
      this.aS = 0;
      this.aR = 0;
      this.aQ = 0;
      this.aP = 0;
      this.aO = 0;
      this.aN = 0;
      this.aM = 0;
      this.b = null;
      this.c = null;
      this.d = null;
      this.e = 0;
   }

   public void b(dm var1) {
      if (!this.W) {
         if (this.D) {
            if (this.i) {
               GameSrc.m = this.b - GameSrc.c;
               GameSrc.n = this.c - GameSrc.d;
               if (!main.a.f) {
                  GameSrc.m += GameSrc.j * this.i;
               }
            }
         } else if (this.e()) {
            int var4;
            int var6;
            int var11;
            if (this.a != null) {
               ch var10 = this.a;
               byte var5 = 32;
               var4 = 32;
               byte var2;
               if (main.a.g % 10 > 5) {
                  var2 = 1;
               } else {
                  var2 = 0;
               }

               byte var3 = var2;
               var11 = var5;
               if (var10.k > 0) {
                  var11 = var10.l;
                  var4 = var10.m;
                  var3 = 0;
               }

               short var8 = var10.a;
               var6 = var10.b;
               int var7 = var10.h;
               int var9 = var10.d;
               if (var10.a == 1) {
                  var5 = 0;
               } else {
                  var5 = 2;
               }

               pasta.ao.a(var1, var8, var6, var7, var9 + 3 + var3, var11, var4, var5, bk.f);
            }

            if (this.az > GameSrc.k && this.az < GameSrc.k + main.a.i) {
               ce var18;
               if (this.j) {
                  if (this.T || this.R || this.S) {
                     if (this.b >= a) {
                        var18 = dz.a(this.d + (this.b - a) + "_0");
                        if (var18 != null) {
                           var18.a(this.aw / 2 % var18.c, this.az, this.aA + this.U, this.ax, 3, var1);
                        }
                     } else if (!this.t) {
                        if (this.s) {
                           var1.a(l, 0, this.a[this.av] * 60, 60, 60, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                        } else if (this.ay == 2) {
                           if (!this.r) {
                              var1.a(f, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                           } else {
                              var1.a(j, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                           }
                        } else if (this.ay == 1) {
                           if (!this.r) {
                              var1.a(d, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                           } else {
                              var1.a(h, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                           }
                        }
                     }
                  }
               } else if (!this.j) {
                  if (this.b >= a) {
                     var18 = dz.a(this.d + (this.b - a) + "_0");
                     if (var18 != null) {
                        var18.a(this.aw / 2 % var18.c, this.az, this.aA + this.U, this.ax, 3, var1);
                     }
                  } else if (!this.t) {
                     if (this.s) {
                        var1.a(l, 0, this.a[this.av] * 60, 60, 60, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                     } else if (this.S) {
                        if (this.ay == 2) {
                           if (!this.r) {
                              var1.a(f, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                           } else {
                              var1.a(j, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                           }
                        } else if (this.ay == 1) {
                           if (!this.r) {
                              var1.a(d, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                           } else {
                              var1.a(h, 0, this.a[this.av] * 40, 50, 40, this.ax, this.az + this.aB, this.aA + this.aC + this.U, 0);
                           }
                        }
                     }
                  }
               }
            }

            if ((!TileMap.c() || this.c < TileMap.d - 48) && !this.b) {
               if (this.I && main.a.g % 2 == 0) {
                  var1.a(16185600);
                  if (this.d != null) {
                     var1.b(this.b, this.c - this.B / 2, this.d.b, this.d.c - this.d.B / 2);
                  }

                  if (this.c != null) {
                     var1.b(this.b, this.c - this.B / 2, this.c.e, this.c.f - this.c.o / 2);
                  }
               }

               short var12;
               int var13;
               dd var19;
               if ((this.h == 1 || this.h == 6) && !main.a.a.a && dz.a() - this.j > 0L && !this.F && this.r >= 16) {
                  if (this.r >= 19) {
                     var12 = 7676;
                  } else {
                     var12 = -1;
                  }

                  if (this.r >= 22) {
                     var12 = 7677;
                  }

                  if (this.r >= 25) {
                     var12 = 7678;
                  }

                  if (var12 != -1) {
                     var19 = pasta.ao.a[var12];
                     if (var19 == null) {
                        pasta.ao.a(var12);
                     } else {
                        var13 = main.a.g / 4;
                        var11 = dm.b(var19.a) / 4;
                        var1.a(var19.a, 0, var11 * (var13 % 4), dm.a(var19.a), dm.b(var19.a) / 4, 0, this.b, this.c + 2, 33);
                     }
                  }
               }

               this.g(var1);
               if (this.ap > 0) {
                  if (main.a.g % 2 == 0) {
                     this.a(var1, this.an, this.ao, this.i, 25, true);
                  } else if (this.ap > 5) {
                     this.a(var1, this.an, this.ao, this.i, 7, true);
                  }
               }

               if (this.e() || this.a == null || this.a.a >= 70 && this.a.a <= 76 || this.a.a >= 77 && this.a.a <= 83) {
                  if (this.h != 15 && (this.a == null || this.a[0] <= 0)) {
                     var6 = this.B + 5;
                     boolean var14;
                     if ((!this.l || this.j) && (this.j || TileMap.mapId != 113 || this.c < 360) && !this.j) {
                        if (b.a != null && this.z == b.a.a) {
                           var14 = true;
                        } else {
                           var14 = false;
                        }

                        boolean var15;
                        if (this.d != 3 && this.d != 5) {
                           var15 = false;
                        } else {
                           var15 = true;
                        }

                        boolean var16;
                        if (this.d == 4) {
                           var16 = true;
                        } else {
                           var16 = false;
                        }

                        if (this.a.startsWith("$")) {
                           this.a = this.a.substring(1);
                           this.ab = true;
                        }

                        if (this.a.startsWith("#")) {
                           this.a = this.a.substring(1);
                           this.ac = true;
                        }

                        var11 = var6;
                        if (myCharz().a != null) {
                           var11 = var6;
                           if (myCharz().a.equals(this)) {
                              var11 = var6 + 5;
                              this.a(var1, this.b, this.c - var11 + 3);
                           }
                        }

                        var11 += cg.k.a();
                        cg var20 = cg.E;
                        if (this.d) {
                           var11 += 10;
                        }

                        if (!this.ab && !this.ac) {
                           if (var15) {
                              var20 = cg.y;
                           } else if (var16) {
                              var20 = cg.z;
                           } else if (var14) {
                              var20 = cg.A;
                           }
                        } else {
                           var20 = cg.G;
                        }

                        label331: {
                           if (!this.Q && !var15) {
                              var4 = var11;
                              if (!var16) {
                                 break label331;
                              }
                           }

                           var4 = var11;
                           if (!var14) {
                              var20.a(var1, this.a, this.b, this.c - var11, 2, cg.B);
                              var4 = var11 + cg.k.a();
                           }
                        }

                        if (var14) {
                           if (myCharz().a != null && myCharz().a.equals(this)) {
                              var20.a(var1, this.a, this.b, this.c - var4, 2, cg.B);
                           } else if (this.a == null) {
                              var20.a(var1, this.a, this.b - 10, this.c - var4 + 3, 0, cg.o);
                              this.a(var1, this.b - 16, this.c - var4 + 10);
                           }
                        }
                     }

                     if (this.a == null || this.a() == null || this.ab >= this.a().length) {
                        this.f(var1);
                     }

                     if (this.a != null) {
                        this.a.a(var1);
                     }

                     if (this.a != null) {
                        this.a.a(var1);
                     }

                     this.e(var1);
                     this.a(var1);
                     if (this.h != 1 && this.h != 6) {
                        this.j = dz.a() + 1500L;
                        this.Z = true;
                        this.aa = true;
                     } else if (!main.a.a.a && dz.a() - this.j > 0L) {
                        if (this.F) {
                           if (main.a.g % 2 == 0) {
                              ++this.aY;
                           }

                           if (this.aY > 6) {
                              this.aY = 0;
                           }

                           var1.a(main.a.c[this.aY], this.b, this.c + 9, 33);
                        } else {
                           if (this.r >= 14 && !main.a.b) {
                              boolean var17;
                              if (dz.a() - this.j > -1000L && this.Z) {
                                 this.Z = false;
                                 var17 = true;
                              } else {
                                 var17 = false;
                              }

                              var14 = var17;
                              if (dz.a() - this.j > -500L) {
                                 var14 = var17;
                                 if (this.aa) {
                                    this.aa = false;
                                    var14 = true;
                                 }
                              }

                              if (var14) {
                                 main.a.a().a(-1, this.b + 8, this.c);
                                 main.a.a().a(1, this.b - 8, this.c);
                                 this.goToMap(1);
                              }
                           }

                           if (this.r == 14) {
                              if (main.a.g % 2 == 0) {
                                 ++this.aY;
                              }

                              if (this.aY > 6) {
                                 this.aY = 0;
                              }

                              var1.a(main.a.b[this.aY], this.b, this.c + 9, 33);
                           } else if (this.r == 15) {
                              if (main.a.g % 2 == 0) {
                                 ++this.aY;
                              }

                              if (this.aY > 6) {
                                 this.aY = 0;
                              }

                              var1.a(main.a.c[this.aY], this.b, this.c + 9, 33);
                           } else if (this.r >= 16) {
                              if (this.r >= 19 && this.r < 22) {
                                 var12 = 7599;
                              } else {
                                 var12 = -1;
                              }

                              if (var12 != -1) {
                                 var19 = pasta.ao.a[7599];
                                 if (var19 == null) {
                                    pasta.ao.a(7599);
                                 } else {
                                    var11 = main.a.g / 4;
                                    var13 = dm.b(var19.a) / 4;
                                    var1.a(var19.a, 0, var13 * (var11 % 4), dm.a(var19.a), dm.b(var19.a) / 4, 0, this.b, this.c + 2, 33);
                                 }
                              }
                           }
                        }
                     }

                     this.h(var1);
                  }
               } else {
                  if (this.a != null) {
                     this.ab = this.a().length;
                     this.a = null;
                  }

                  this.a = null;
                  this.a = null;
                  this.aa = -1;
               }
            }
         }
      }

   }

   public final void b(dm var1, int var2, int var3) {
      pasta.ao.a(var1, GameSrc.a[this.V].a[a[0][0][0]].a, var2, var3, 0, 10);
   }

   public final void b(short var1, short var2) {
      this.f = var1;
      this.g = var2;
   }

   public final void b(boolean var1) {
      if (!this.z) {
         GameSrc.a().z = 0;
         if (var1) {
            if (!this.C) {
               this.aX = 0;
               this.O = 50000;
               this.aW = 0;
               this.d = System.currentTimeMillis();
               if (this.j) {
                  this.x = true;
                  if (this.k == 1) {
                     pasta.av.a().a((byte)4);
                  }
               }

               if (this.k == 1) {
                  pasta.aw.a();
               }

               this.C = true;
            }
         } else if (!this.B) {
            if (this.j) {
               GameSrc.a().z = 0;
               this.x = true;
               pasta.av.a().a((byte)4);
            }

            this.A = false;
            this.aX = 0;
            this.B = true;
            this.aW = 0;
            this.O = 50000;
         }
      }

   }

   public final boolean b() {
      boolean var1;
      if (this.a != null && this.a.a.a()) {
         var1 = true;
      } else {
         var1 = false;
      }

      return var1;
   }

   public final int c() {
      return 32;
   }

   public final void c() {
      Exception var10000;
      label132: {
         MyVector var3;
         boolean var10001;
         try {
            var3 = new MyVector("items");
         } catch (Exception var17) {
            var10000 = var17;
            var10001 = false;
            break label132;
         }

         int var1 = 0;

         Item var4;
         while(true) {
            try {
               if (var1 >= this.b.length) {
                  break;
               }
            } catch (Exception var16) {
               var10000 = var16;
               var10001 = false;
               break label132;
            }

            try {
               var4 = this.b[var1];
            } catch (Exception var15) {
               var10000 = var15;
               var10001 = false;
               break label132;
            }

            if (var4 != null) {
               try {
                  if (var4.itemTemplate.a && !var4.c) {
                     var3.addElement(var4);
                  }
               } catch (Exception var14) {
                  var10000 = var14;
                  var10001 = false;
                  break label132;
               }
            }

            ++var1;
         }

         var1 = 0;

         int var2;
         while(true) {
            try {
               if (var1 >= var3.size()) {
                  break;
               }
            } catch (Exception var12) {
               var10000 = var12;
               var10001 = false;
               break label132;
            }

            Item var5;
            try {
               var5 = (Item)var3.elementAt(var1);
            } catch (Exception var11) {
               var10000 = var11;
               var10001 = false;
               break label132;
            }

            if (var5 != null) {
               var2 = var1 + 1;

               while(true) {
                  try {
                     if (var2 >= var3.size()) {
                        break;
                     }
                  } catch (Exception var13) {
                     var10000 = var13;
                     var10001 = false;
                     break label132;
                  }

                  try {
                     var4 = (Item)var3.elementAt(var2);
                  } catch (Exception var10) {
                     var10000 = var10;
                     var10001 = false;
                     break label132;
                  }

                  if (var4 != null) {
                     try {
                        if (var5.itemTemplate.equals(var4.itemTemplate) && var5.b == var4.b) {
                           var5.quantity += var4.quantity;
                           this.b[var4.b] = null;
                           var3.setElementAt((Object)null, var2);
                        }
                     } catch (Exception var9) {
                        var10000 = var9;
                        var10001 = false;
                        break label132;
                     }
                  }

                  ++var2;
               }
            }

            ++var1;
         }

         var1 = 0;

         label89:
         while(true) {
            try {
               if (var1 >= this.b.length) {
                  return;
               }
            } catch (Exception var6) {
               var10000 = var6;
               var10001 = false;
               break;
            }

            label137: {
               try {
                  if (this.b[var1] == null) {
                     break label137;
                  }
               } catch (Exception var8) {
                  var10000 = var8;
                  var10001 = false;
                  break;
               }

               for(var2 = 0; var2 <= var1; ++var2) {
                  try {
                     if (this.b[var2] == null) {
                        this.b[var2] = this.b[var1];
                        this.b[var2].b = var2;
                        this.b[var1] = null;
                        break;
                     }
                  } catch (Exception var7) {
                     var10000 = var7;
                     var10001 = false;
                     break label89;
                  }
               }
            }

            ++var1;
         }
      }

      Exception var18 = var10000;
      var18.printStackTrace();
   }

   public final void c(int var1, int var2) {
      if (var1 == -1) {
         this.g.removeAllElements();
      } else if (this.a(var2) != null) {
         this.g.removeElement(this.a(var2));
      }

   }

   public final void c(dm var1) {
      if (!this.D && this.V != 377 && this.W != 471 && !this.b && !this.p) {
         byte var2 = TileMap.a;
         if ((TileMap.mapId < 114 || TileMap.mapId > 120) && TileMap.mapId != 127 && TileMap.mapId != 128) {
            if (TileMap.a(this.ac + var2 / 2, this.ad + 1, 4)) {
               var1.f(this.ac / var2 * var2, (this.ad - 30) / var2 * var2, var2, 100);
            } else if (TileMap.a((this.ac - var2 / 2) / var2, (this.ad + 1) / var2) == 0) {
               var1.f(this.ac / var2 * var2, var2 * ((this.ad - 30) / var2), 100, 100);
            } else if (TileMap.a((this.ac + var2 / 2) / var2, (this.ad + 1) / var2) == 0) {
               var1.f(this.ac / var2 * var2, (this.ad - 30) / var2 * var2, var2, 100);
            } else if (TileMap.a(this.ac - var2 / 2, this.ad + 1, 8)) {
               var1.f(this.ac / 24 * var2, (this.ad - 30) / var2 * var2, var2, 100);
            }
         }

         var1.a(TileMap.b, this.ac, this.ad, 3);
         var1.f(GameSrc.k, GameSrc.l - main.a.o, GameSrc.a, GameSrc.b + main.a.o * 2);
      }

   }

   public final void c(boolean var1) {
      this.D = var1;
   }

   public final boolean c() {
      boolean var1;
      if (this.A || this.a == null || this.a.a.a != 10 && this.a.a.a != 11) {
         var1 = false;
      } else {
         var1 = true;
      }

      return var1;
   }

   public final void checkInfo(String var1) {
      if (this.a == null) {
         this.a = new dg();
      }

      this.a.a(var1, 0, (Char)null, false);
      gameFunc.b(var1);
   }

   public final int d() {
      return 24;
   }

   public final void d(dm var1) {
      this.aJ = 0;
      dt[] var5 = this.a();
      this.C = var5[this.ab].a;
      this.f(var1);
      if (this.i == 1) {
         int var2;
         int var3;
         int var4;
         if (this.b != null) {
            if (this.aP == 0) {
               this.aP = var5[this.ab].c;
            }

            if (this.aS == 0) {
               this.aS = var5[this.ab].d;
            }

            var4 = this.b.a[this.aM].c;
            var2 = this.b;
            var3 = this.aP;
            pasta.ao.a(var1, var4, this.b.a[this.aM].a + var2 + var3, this.c + this.aS + this.b.a[this.aM].b, 0, 3);
            ++this.aM;
            if (this.aM >= this.b.a.length) {
               this.b = null;
               this.aS = 0;
               this.aP = 0;
               this.aM = 0;
            }
         }

         if (this.c != null) {
            if (this.aQ == 0) {
               this.aQ = var5[this.ab].f;
            }

            if (this.aT == 0) {
               this.aT = var5[this.ab].g;
            }

            var2 = this.c.a[this.aN].c;
            var3 = this.b;
            var4 = this.aQ;
            pasta.ao.a(var1, var2, this.c.a[this.aN].a + var3 + var4, this.c + this.aT + this.c.a[this.aN].b, 0, 3);
            ++this.aN;
            if (this.aN >= this.c.a.length) {
               this.c = null;
               this.aT = 0;
               this.aQ = 0;
               this.aN = 0;
            }
         }

         if (this.d != null) {
            if (this.aR == 0) {
               this.aR = var5[this.ab].i;
            }

            if (this.aU == 0) {
               this.aU = var5[this.ab].j;
            }

            var3 = this.d.a[this.aO].c;
            var2 = this.b;
            var4 = this.aR;
            pasta.ao.a(var1, var3, this.d.a[this.aO].a + var2 + var4, this.c + this.aU + this.d.a[this.aO].b, 0, 3);
            ++this.aO;
            if (this.aO >= this.d.a.length) {
               this.d = null;
               this.aU = 0;
               this.aR = 0;
               this.aO = 0;
            }
         }
      } else {
         if (this.b != null) {
            if (this.aP == 0) {
               this.aP = var5[this.ab].c;
            }

            if (this.aS == 0) {
               this.aS = var5[this.ab].d;
            }

            pasta.ao.a(var1, this.b.a[this.aM].c, this.b - this.aP - this.b.a[this.aM].a, this.c + this.aS + this.b.a[this.aM].b, 2, 3);
            ++this.aM;
            if (this.aM >= this.b.a.length) {
               this.b = null;
               this.aM = 0;
               this.aP = 0;
               this.aS = 0;
            }
         }

         if (this.c != null) {
            if (this.aQ == 0) {
               this.aQ = var5[this.ab].f;
            }

            if (this.aT == 0) {
               this.aT = var5[this.ab].g;
            }

            pasta.ao.a(var1, this.c.a[this.aN].c, this.b - this.aQ - this.c.a[this.aN].a, this.c + this.aT + this.c.a[this.aN].b, 2, 3);
            ++this.aN;
            if (this.aN >= this.c.a.length) {
               this.c = null;
               this.aN = 0;
               this.aQ = 0;
               this.aT = 0;
            }
         }

         if (this.d != null) {
            if (this.aR == 0) {
               this.aR = var5[this.ab].i;
            }

            if (this.aU == 0) {
               this.aU = var5[this.ab].j;
            }

            pasta.ao.a(var1, this.d.a[this.aO].c, this.b - this.aR - this.d.a[this.aO].a, this.c + this.aU + this.d.a[this.aO].b, 2, 3);
            ++this.aO;
            if (this.aO >= this.d.a.length) {
               this.d = null;
               this.aO = 0;
               this.aR = 0;
               this.aU = 0;
            }
         }
      }

      ++this.ab;
   }

   public final boolean d() {
      boolean var1 = true;
      if (this.b >= GameSrc.k && this.b <= GameSrc.k + GameSrc.a) {
         var1 = false;
      }

      return var1;
   }

   public final int e() {
      int var2 = this.V;
      int var1 = 0;

      short var3;
      while(true) {
         if (var1 >= b.length) {
            var3 = -1;
            break;
         }

         if (var2 == b[var1]) {
            var3 = c[var1];
            break;
         }

         ++var1;
      }

      return var3;
   }

   public void e() {
      this.W = true;
      dh.a(new cx(107, this.b, this.c + 25, 3, 15, 1));
   }

   public final boolean e() {
      boolean var2 = false;
      boolean var1;
      if (this.c < GameSrc.l) {
         var1 = var2;
      } else {
         var1 = var2;
         if (this.c <= GameSrc.l + GameSrc.b + 30) {
            var1 = var2;
            if (!this.d()) {
               var1 = var2;
               if (!this.ad) {
                  var1 = var2;
                  if (!this.K) {
                     var1 = true;
                  }
               }
            }
         }
      }

      return var1;
   }

   public final int f() {
      return this.G + this.H;
   }

   public final void f() {
      this.W = false;
      dh.a(new cx(107, this.b, this.c + 25, 3, 10, 1));
   }

   public final boolean f() {
      return false;
   }

   public final void g() {
      this.h();
      this.j();
      this.k();
   }

   public final boolean g() {
      boolean var1;
      if (this.d != 4 && this.d != 3) {
         var1 = false;
      } else {
         var1 = true;
      }

      return var1;
   }

   public final void h() {
      if (this.k == 0) {
         this.Z = 0;
      }

   }

   public final boolean h() {
      boolean var3 = false;
      boolean var2;
      if (this.arrItemBag == null) {
         var2 = var3;
      } else {
         int var1 = 0;

         while(true) {
            var2 = var3;
            if (var1 >= this.arrItemBag.length) {
               break;
            }

            if (this.arrItemBag[var1] != null && this.arrItemBag[var1].itemTemplate.type == 6) {
               pasta.av.a().a((byte)0, (byte)1, (byte)-1, (short)this.arrItemBag[var1].itemTemplate.templateId);
               var2 = true;
               break;
            }

            ++var1;
         }
      }

      return var2;
   }

   public final void i() {
   }

   public final boolean i() {
      boolean var1;
      if (this.a != null || this.a != null && b(this.a)) {
         var1 = true;
      } else {
         var1 = false;
      }

      return var1;
   }

   public final void j() {
      if (this.k == 0) {
         this.X = 57;
      } else if (this.k == 1) {
         this.X = 59;
      } else if (this.k == 2) {
         this.X = 57;
      }

   }

   public final void k() {
      if (this.k == 0) {
         this.W = 58;
      } else if (this.k == 1) {
         this.W = 60;
      } else if (this.k == 2) {
         this.W = 58;
      }

   }

   public final void m() {
      if (!this.j || !this.n && !this.c) {
         long var1 = System.currentTimeMillis();
         if (this.j && var1 - this.a.b < (long)this.a.b) {
            this.a.a = true;
         } else {
            if (this.a.a.a == 10) {
               this.b(false);
            }

            if (this.a.a.a == 11) {
               this.b(true);
            }
         }
      } else {
         GameSrc.a().z = 0;
      }

   }

   public final void n() {
      this.B = false;
      this.C = false;
      this.A = false;
      this.z = false;
      if (this.j && this.h != 14 && this.h != 5) {
         this.x = false;
      }

      GameSrc.a().z = 0;
   }

   public final void o() {
      int var1 = 0;
      byte var3 = 0;
      byte var2 = 0;
      bj var4;
      if (this.j) {
         var4 = this.b;
         if (this.a != null) {
            var4 = this.a.a;
         }

         if (var4 != null) {
            MyVector var5 = new MyVector("vMob");
            MyVector var6 = new MyVector("vChar");
            if (this.a != null) {
               var6.addElement(this.a);
            } else if (this.a != null) {
               var5.addElement(this.a);
            }

            this.a = new bt[var5.size() + var6.size()];

            for(var1 = 0; var1 < var5.size(); ++var1) {
               this.a[var1] = new bt();
               this.a[var1].a = GameSrc.a[var4.b - 1];
               if (!this.a()) {
                  this.a[var1].a = (i)var5.elementAt(var1);
               }
            }

            for(var1 = 0; var1 < var6.size(); ++var1) {
               this.a[var5.size() + var1] = new bt();
               this.a[var5.size() + var1].a = GameSrc.a[var4.b - 1];
               this.a[var5.size() + var1].a = (Char)var6.elementAt(var1);
            }

            byte var7;
            if (this.a != null) {
               var7 = 1;
            } else {
               var7 = var2;
               if (this.a != null) {
                  var7 = 2;
               }
            }

            if (var5.size() == 0 && var6.size() == 0) {
               this.n();
            }

            if (this.j && !this.a() && !this.Y) {
               pasta.av.a().a(var5, var6, var7);
               this.Y = true;
            }
         }
      } else {
         var4 = this.b;
         if (this.a != null) {
            var4 = this.a.a;
         }

         if (var4 != null) {
            if (this.a != null) {
               for(this.a = new bt[this.a.length]; var1 < this.a.length; ++var1) {
                  this.a[var1] = new bt();
                  this.a[var1].a = GameSrc.a[var4.b - 1];
                  this.a[var1].a = this.a[var1];
               }

               this.a = null;
            } else if (this.a != null) {
               this.a = new bt[this.a.length];

               for(var1 = var3; var1 < this.a.length; ++var1) {
                  this.a[var1] = new bt();
                  this.a[var1].a = GameSrc.a[var4.b - 1];
                  this.a[var1].a = this.a[var1];
               }

               this.a = null;
            }
         }
      }

   }

   public void onCancelChat() {
      if (!this.W && !this.D) {
         if (this.a != null) {
            if (main.a.g % 3 == 0) {
               if (myCharz().i == 1) {
                  this.a.g = this.b - 20;
               }

               if (myCharz().i == -1) {
                  this.a.g = this.b + 20;
               }

               this.a.c = this.c - 40;
               if (this.a.h > this.b) {
                  this.a.a = -1;
               } else {
                  this.a.a = 1;
               }

               if (this.a.g < 100) {
                  this.a.g = 100;
               }

               if (this.a.g > TileMap.c - 100) {
                  this.a.g = TileMap.c - 100;
               }
            }

            ch var9 = this.a;
            if (var9.d != var9.c) {
               var9.f = var9.c - var9.d << 2;
               var9.e += var9.f;
               var9.d += var9.e >> 4;
               var9.e &= 15;
            }

            if (var9.h != var9.g) {
               var9.j = var9.g - var9.h << 2;
               var9.i += var9.j;
               var9.h += var9.i >> 4;
               var9.i &= 15;
            }

            if (main.a.g % 3 == 0) {
               var9.b = var9.a[var9.n];
               ++var9.n;
            }

            if (var9.n >= var9.a.length) {
               var9.n = 0;
            }
         }

         if (!this.j && this.t <= 0 && this.z != -100 && this.h != 14 && this.h != 5) {
            this.a((short)this.b, (short)this.c);
         }

         int var1;
         int var2;
         if (this.U) {
            ++this.aH;
            if (this.aH == 20) {
               this.aH = 0;
               this.U = false;
            }
         } else if (this.am > this.t) {
            var2 = this.am - this.t >> 1;
            var1 = var2;
            if (var2 <= 0) {
               var1 = 1;
            }

            this.am -= var1;
         } else {
            this.am = this.t;
         }

         if (this.e != 0) {
            this.i = System.currentTimeMillis();
            if (this.i - this.h >= 1000L) {
               this.h = System.currentTimeMillis();
               --this.e;
            }
         }

         if (this.O && main.a.g % 10 == 0) {
            dh.a(new cx(41, this.b, this.c, 3, 1, 1));
         }

         if (this.L) {
            this.L = false;
            dh.a(new cx(39, this.b, this.c, 3, 3, 1));
         }

         if (this.M && main.a.g % 5 == 0) {
            pasta.y.a(113, this, 1);
         }

         if (this.J) {
            if (main.a.g % 5 == 0) {
               this.a = new cx(33, this.b, this.c + 37, 3, 3, 1);
            }

            if (this.a != null) {
               this.a.a();
               this.a.f = this.b;
               this.a.g = this.c + 37;
            }
         }

         if (this.a != null && this.a.c < 0) {
            this.a = null;
         }

         if (this.K) {
            ++this.ak;
         }

         if (this.d && main.a.g % 25 == 0) {
            pasta.y.a(114, this, 1);
         }

         if (this.ad) {
            ++this.bb;
            if (this.bb == 1) {
               this.bb = 0;
               this.ad = false;
               this.b = this.j;
               this.c = this.k;
               this.g = 0;
               this.aq = 0;
               this.f = 0;
               (new StringBuffer("set pox x= ")).append(this.j).append(" y= ").append(this.k);
               if (this.n == 1) {
                  if (this.j) {
                     this.R = this.b;
                     this.S = this.c;
                  }

                  this.a = null;
                  this.N = false;
                  pasta.y.a(173, this.b, this.c, 1);
               } else {
                  pasta.y.a(60, this.b, this.c, 1);
               }

               if ((TileMap.b(this.b, this.c) & 2) == 2) {
                  this.h = 1;
               } else {
                  this.h = 4;
               }
            }
         } else {
            if (this.j && this.h == 10 && this.C == 8 && this.aJ > 20 && main.a.g % 20 == 0) {
               pasta.aw.a();
            }

            boolean var11;
            if (this.a != null && this.a() != null && this.ab < this.a().length) {
               label1040: {
                  if (this.a != null) {
                     if (this.a.a >= 0 && this.a.a <= 6) {
                        var11 = true;
                        break label1040;
                     }

                     if (this.a.a >= 14 && this.a.a <= 20) {
                        var11 = true;
                        break label1040;
                     }

                     if (this.a.a >= 28 && this.a.a <= 34) {
                        var11 = true;
                        break label1040;
                     }

                     if (this.a.a >= 63 && this.a.a <= 69) {
                        var11 = true;
                        break label1040;
                     }
                  }

                  var11 = false;
               }

               if (var11 && (this.j || !this.j && this.b >= GameSrc.k && this.b <= GameSrc.k + main.a.i) && main.a.g % 5 == 0) {
                  if (this.C != 9 && this.C != 10 && this.C != 11) {
                     pasta.aw.a();
                  } else {
                     pasta.aw.a();
                  }
               }
            }

            if (!this.P) {
               long var6;
               boolean var8;
               byte var14;
               if (this.n) {
                  if (main.a.g % 5 == 0) {
                     pasta.y.a(113, this.b, this.c, 1);
                  }

                  this.C = 23;
                  var6 = System.currentTimeMillis();
                  if (var6 - this.e >= 1000L) {
                     --this.P;
                     this.e = var6;
                     if (this.P < 0) {
                        this.n = false;
                        this.O = 0;
                        if (this.j) {
                           myCharz().x = false;
                           GameSrc.a().A = 0;
                           GameSrc.a().g = false;
                        }
                     }
                  }

                  if (TileMap.a(this.b / TileMap.a, this.c / TileMap.a) == 0) {
                     ++this.aJ;
                     ++this.aI;
                     var2 = this.U;
                     if (!this.X) {
                        var14 = 1;
                     } else {
                        var14 = -1;
                     }

                     this.U = var14 + var2;
                     if (this.aI == 10) {
                        this.aI = 0;
                        if (this.X) {
                           var8 = false;
                        } else {
                           var8 = true;
                        }

                        this.X = var8;
                     }
                  }
               } else if (this.G) {
                  this.x = true;
                  this.C = 17;
                  if (main.a.g % 5 == 0) {
                     pasta.y.a(154, this.b, this.c - 10, 2);
                  }

                  if (main.a.g % 5 == 0) {
                     pasta.y.a(1, this.b, this.c + 10, 1);
                  }

                  ++this.aX;
                  if (this.aX == 500) {
                     this.G = false;
                     this.x = false;
                  }
               } else {
                  byte var16;
                  if (this.C) {
                     ++this.aX;
                     if (TileMap.a(myCharz().b, myCharz().c, 2)) {
                        var11 = false;
                     } else {
                        var11 = true;
                     }

                     this.D();
                     this.G();
                     this.a = null;
                     this.a = null;
                     this.C = 17;
                     if (var11 && this.k != 2) {
                        this.C = 12;
                     }

                     if (this.k == 2) {
                        if (main.a.g % 3 == 0) {
                           pasta.y.a(154, this.b, this.c - this.B / 2 + 10, 1);
                        }

                        if (main.a.g % 5 == 0) {
                           pasta.y.a(114, this.b + cq.b(-20, 20), this.c + cq.b(-20, 20), 1);
                        }
                     }

                     if (this.k == 1 && main.a.g % 2 == 0) {
                        if (this.i == 1) {
                           pasta.y.a(70, this.b - 18, this.c - this.B / 2 + 8, 1);
                           pasta.y.a(70, this.b + 23, this.c - this.B / 2 + 15, 1);
                        } else {
                           pasta.y.a(70, this.b + 18, this.c - this.B / 2 + 8, 1);
                           pasta.y.a(70, this.b - 23, this.c - this.B / 2 + 15, 1);
                        }
                     }

                     this.g = System.currentTimeMillis();
                     if (this.g - this.d > (long)this.O || this.g - this.d > 10000L) {
                        this.n();
                        bj var17;
                        if (this.j) {
                           GameSrc.a().z = 0;
                           Char var10;
                           if (this.k == 2) {
                              var10 = myCharz();
                              var17 = GameSrc.a[myCharz().a.a];
                              byte var12;
                              if (!var11) {
                                 var12 = 0;
                              } else {
                                 var12 = 1;
                              }

                              var10.b(var17, var12);
                              pasta.av.a().a((byte)8);
                           }

                           if (this.k == 1) {
                              this.z = true;
                              var10 = myCharz();
                              var17 = GameSrc.a[myCharz().a.a];
                              if (!var11) {
                                 var16 = 0;
                              } else {
                                 var16 = 1;
                              }

                              var10.a(var17, var16);
                           }
                        } else if (this.k == 2) {
                           var17 = GameSrc.a[this.charID];
                           if (!var11) {
                              var16 = 0;
                           } else {
                              var16 = 1;
                           }

                           this.b(var17, var16);
                        }

                        (new StringBuffer("24234234234 status= ")).append(this.h).append(" hp= ").append(this.t);
                        if (this.k == 2 && this.h != 14 && this.h != 5) {
                           GameSrc.a().teleTo(this.b, this.c);
                        }
                     }

                     ++this.aX;
                     if (this.aX == 500) {
                        this.n();
                     }
                  } else {
                     Char var18;
                     if (this.B) {
                        this.D();
                        this.G();
                        this.a = null;
                        this.a = null;
                        ++this.aW;
                        if (TileMap.a(this.b, this.c - this.B, 8192)) {
                           this.n();
                        } else {
                           if (this.aW == 20) {
                              this.d = System.currentTimeMillis();
                           }

                           if (this.aW > 20) {
                              this.g = System.currentTimeMillis();
                              if (this.g - this.d <= (long)this.O && this.g - this.d <= 10000L) {
                                 this.C = 32;
                                 if (this.k == 0 && main.a.g % 3 == 0) {
                                    pasta.y.a(153, this.b, this.c - this.B, 2);
                                 }

                                 ++this.aX;
                                 if (this.aX == 500) {
                                    this.n();
                                 }
                              } else {
                                 this.B = false;
                                 if (this.j) {
                                    this.z = true;
                                    var8 = TileMap.a(myCharz().b, myCharz().c, 2);
                                    this.A = true;
                                    var18 = myCharz();
                                    bj var19 = GameSrc.a[myCharz().a.a];
                                    if (var8) {
                                       var16 = 0;
                                    } else {
                                       var16 = 1;
                                    }

                                    var18.a(var19, var16);
                                 }
                              }
                           } else {
                              if (this.h != 14) {
                                 this.h = 3;
                              }

                              this.e = -3;
                              this.c += this.e;
                              this.C = 7;
                           }
                        }
                     } else {
                        if (this.j && main.a.e) {
                           if (this.a != null && this.a.charID >= 0 && this.a.b > 100 && this.a.b < TileMap.c - 100 && this.b() == null && this.a() == null && !this.g() && TileMap.mapId != 51 && TileMap.mapId != 52 && main.a.a.e.size() > 0 && GameSrc.a().a == null) {
                              var1 = Math.abs(this.b - this.a.b);
                              var2 = Math.abs(this.c - this.a.c);
                              if (var1 < 60 && var2 < 40) {
                                 if (this.a == null) {
                                    this.a = new cd(pasta.ab.aN, 11111);
                                    this.a.a = false;
                                 }

                                 this.a.b = this.a.b - GameSrc.k;
                                 this.a.c = this.a.c - this.a.B - 30 - GameSrc.l;
                              } else {
                                 this.a = null;
                              }
                           } else {
                              this.a = null;
                           }
                        }

                        if (this.m) {
                           this.autoPickItem();
                        }

                        if (!this.b) {
                           if (this.a != null) {
                              this.a.b();
                           }

                           if (this.ap > 0) {
                              --this.ap;
                           }

                           if (this.l > 0 && main.a.g % 2 == 0) {
                              --this.l;
                              if (this.l == 30 || this.l == 60) {
                                 this.l = 0;
                              }
                           }

                           this.G();
                           int var3;
                           if (this.b != null) {
                              if (this.K != 0) {
                                 --this.K;
                              }

                              if (this.K == 0) {
                                 i var20 = this.b;
                                 if (this.i == 1) {
                                    var1 = this.b - 30;
                                 } else {
                                    var1 = this.b + 30;
                                 }

                                 var20.l = var1;
                                 this.b.m = this.c - 60;
                                 int var5 = this.b.l;
                                 var1 = this.b.e;
                                 var3 = this.b.m;
                                 int var4 = this.b.f;
                                 var20 = this.b;
                                 var2 = var20.e;
                                 var20.e = (var5 - var1) / 4 + var2;
                                 var20 = this.b;
                                 var20.f += (var3 - var4) / 4;
                                 this.b.g = this.i;
                              }
                           }

                           if (this.a != null) {
                              this.a.a();
                           }

                           if (this.a != null) {
                              this.a.a();
                           }

                           this.D();
                           if (this.aj != 0) {
                              if (main.a.g % 5 == 0) {
                                 dh.a(new cx(32, this.b, this.c + 24, 3, 5, 1));
                              }
                           } else if (!this.M && !this.O) {
                              if (this.I) {
                                 if (this.d != null && (this.d.h == 14 || this.d.h == 5)) {
                                    this.u();
                                 }

                                 if (this.c != null && this.c.h == 1) {
                                    this.u();
                                 }

                                 if (this.j && this.h == 2 && this.a != null) {
                                    this.I = false;
                                    this.d = null;
                                    this.c = null;
                                 }

                                 if (TileMap.a(this.b, this.c, 2)) {
                                    this.C = 16;
                                 } else {
                                    this.C = 31;
                                 }
                              } else {
                                 if (this.t > 0) {
                                    for(var1 = 0; var1 < this.c.size(); ++var1) {
                                       cz var21 = (cz)this.c.elementAt(var1);
                                       if (main.a.l) {
                                          this.t += var21.a;
                                          var2 = this.s;
                                          this.s = var21.a + var2;
                                       }
                                    }

                                    if (this.u > 0 && main.a.m) {
                                       this.t += this.u;
                                    }

                                    if (this.v > 0 && main.a.m) {
                                       this.s += this.v;
                                    }

                                    if (this.t > this.w) {
                                       this.t = this.w;
                                    }

                                    if (this.s > this.x) {
                                       this.s = this.x;
                                    }
                                 }

                                 if (this.i) {
                                    GameSrc.m = this.b - GameSrc.c;
                                    GameSrc.n = this.c - GameSrc.d;
                                    if (!main.a.f) {
                                       GameSrc.m += GameSrc.j * this.i;
                                    }
                                 }

                                 this.au = (this.au + 1) % 100;
                                 if (this.j) {
                                    if (this.a != null && !GameSrc.d.contains(this.a)) {
                                       this.a = null;
                                    }

                                    if (this.b < 10) {
                                       this.d = 0;
                                       this.b = 10;
                                    } else if (this.b > TileMap.c - 10) {
                                       this.b = TileMap.c - 10;
                                       this.d = 0;
                                    }

                                    if (this.j && !u && this.j()) {
                                       pasta.av.a().g();
                                       if (TileMap.a()) {
                                          pasta.av.a().p();
                                          u = true;
                                       } else {
                                          pasta.av.a().f();
                                       }

                                       v = true;
                                       u = true;
                                       main.a.e();
                                       main.a.onCancelChat();
                                       pasta.a.e();
                                       return;
                                    }

                                    if (this.h != 4 && cq.f(this.b - this.R) + cq.f(this.c - this.S) >= 70 && this.c - this.S <= 0 && this.j) {
                                       pasta.av.a().g();
                                    }

                                    if (this.x) {
                                       this.a = null;
                                    }

                                    if (this.a != null) {
                                       if (a(this.b - this.a.a) <= 16 && a(this.c - this.a.b) <= 16) {
                                          this.b = (this.a.a + this.b) / 2;
                                          this.c = this.a.b;
                                          this.a = null;
                                          GameSrc.a.e = false;
                                          this.E();
                                          this.e = 0;
                                          this.d = 0;
                                          if ((TileMap.b(this.b, this.c) & 2) == 2) {
                                             this.h = 1;
                                          } else {
                                             this.M();
                                             this.S();
                                          }

                                          pasta.av.a().g();
                                       } else {
                                          if (this.a.a > this.b) {
                                             var14 = 1;
                                          } else {
                                             var14 = -1;
                                          }

                                          this.i = var14;
                                          if (TileMap.a(this.b, this.c, 2)) {
                                             this.h = 2;
                                             if (this.a != null) {
                                                this.d = this.n * this.i;
                                                this.e = 0;
                                             }

                                             if (a(this.b - this.a.a) <= 10) {
                                                if (this.a.b > this.c) {
                                                   this.a = null;
                                                   GameSrc.a.e = false;
                                                   this.h = 1;
                                                   this.e = 0;
                                                   this.d = 0;
                                                   this.E();
                                                } else {
                                                   pasta.aw.a();
                                                   this.b = this.a.a;
                                                   this.h = 10;
                                                   this.e = -5;
                                                   this.d = 0;
                                                }
                                             }

                                             if (this.i == 1) {
                                                if (TileMap.a(this.b + this.as, this.c - this.at, 4)) {
                                                   this.d = this.n * this.i;
                                                   this.h = 10;
                                                   this.e = -5;
                                                }
                                             } else if (TileMap.a(this.b - this.as - 1, this.c - this.at, 8)) {
                                                this.d = this.n * this.i;
                                                this.h = 10;
                                                this.e = -5;
                                             }
                                          } else {
                                             if (this.a.b < this.c + 10) {
                                                this.h = 10;
                                                this.e = -5;
                                                if (a(this.c - this.a.b) <= 10) {
                                                   this.c = this.a.b;
                                                   this.e = 0;
                                                }

                                                if (a(this.b - this.a.a) <= 10) {
                                                   this.d = 0;
                                                } else {
                                                   this.d = this.n * this.i;
                                                }
                                             } else if (TileMap.a(this.b, this.c, 2)) {
                                                this.a = null;
                                                GameSrc.a.e = false;
                                                this.h = 1;
                                                this.e = 0;
                                                this.d = 0;
                                                this.E();
                                             } else {
                                                if (this.h == 10 || this.h == 2) {
                                                   this.e = 0;
                                                }

                                                this.h = 4;
                                             }

                                             if (this.a.b > this.c) {
                                                if (this.i == 1) {
                                                   if (TileMap.a(this.b + this.as, this.c - this.at, 4)) {
                                                      this.e = 0;
                                                      this.d = 0;
                                                      this.h = 4;
                                                      this.a = null;
                                                      GameSrc.a.e = false;
                                                      this.E();
                                                   }
                                                } else if (TileMap.a(this.b - this.as - 1, this.c - this.at, 8)) {
                                                   this.e = 0;
                                                   this.d = 0;
                                                   this.h = 4;
                                                   this.a = null;
                                                   GameSrc.a.e = false;
                                                   this.E();
                                                }
                                             }
                                          }
                                       }
                                    }

                                    this.T();
                                 } else {
                                    this.F();
                                    if (this.h == 1 || this.h == 6) {
                                       label914: {
                                          boolean var15 = false;
                                          if (this.a != null) {
                                             if (a(this.a.a - this.b) < 17 && a(this.a.b - this.c) < 25) {
                                                this.b = this.a.a;
                                                this.c = this.a.b;
                                                this.a = null;
                                                if ((TileMap.b(this.b, this.c) & 2) == 2) {
                                                   this.h = 1;
                                                   this.g = 0;
                                                   main.a.a().a(-1, this.b + 8, this.c);
                                                   main.a.a().a(1, this.b - 8, this.c);
                                                } else {
                                                   this.h = 4;
                                                   this.e = 0;
                                                   this.f = 0;
                                                }

                                                var11 = true;
                                                break label914;
                                             }

                                             if (this.aZ != 10 && this.C != 8 || this.f.size() <= 0) {
                                                if (this.c == this.a.b) {
                                                   var11 = var15;
                                                   if (this.b != this.a.a) {
                                                      this.b = (this.b + this.a.a) / 2;
                                                      this.C = main.a.g % 5 + 2;
                                                      var11 = var15;
                                                   }
                                                } else if (this.c < this.a.b) {
                                                   this.C = 12;
                                                   this.b = (this.b + this.a.a) / 2;
                                                   if (this.e < 0) {
                                                      this.e = 0;
                                                   }

                                                   this.c += this.e;
                                                   if ((TileMap.b(this.b, this.c) & 2) == 2) {
                                                      main.a.a().a(-1, this.b + 8, this.c);
                                                      main.a.a().a(1, this.b - 8, this.c);
                                                   }

                                                   ++this.e;
                                                   var11 = var15;
                                                   if (this.e > 16) {
                                                      this.c = (this.c + this.a.b) / 2;
                                                      var11 = var15;
                                                   }
                                                } else {
                                                   this.C = 7;
                                                   this.b = (this.b + this.a.a) / 2;
                                                   this.c = (this.c + this.a.b) / 2;
                                                   var11 = var15;
                                                }
                                                break label914;
                                             }
                                          }

                                          var11 = true;
                                       }

                                       if (var11 && this.f.size() > 0) {
                                          this.a = (ck)this.f.firstElement();
                                          this.f.removeElementAt(0);
                                          if (this.a.c == 2) {
                                             if ((TileMap.b(this.b, this.c + 12) & 2) != 2) {
                                                this.h = 10;
                                                this.f = 0;
                                                this.aq = 0;
                                                this.d = -(this.b - this.a.a) / 10;
                                                this.e = -(this.c - this.a.b) / 10;
                                                if (this.b - this.a.a > 0) {
                                                   this.i = -1;
                                                } else if (this.b - this.a.a < 0) {
                                                   this.i = 1;
                                                }
                                             } else {
                                                this.h = 2;
                                                if (this.b - this.a.a > 0) {
                                                   this.i = -1;
                                                } else if (this.b - this.a.a < 0) {
                                                   this.i = 1;
                                                }

                                                this.d = this.n * this.i;
                                                this.e = 0;
                                             }
                                          } else if (this.a.c == 3) {
                                             if ((TileMap.b(this.b, this.c + 23) & 2) != 2) {
                                                this.h = 10;
                                                this.f = 0;
                                                this.aq = 0;
                                                this.d = -(this.b - this.a.a) / 10;
                                                this.e = -(this.c - this.a.b) / 10;
                                                if (this.b - this.a.a > 0) {
                                                   this.i = -1;
                                                } else if (this.b - this.a.a < 0) {
                                                   this.i = 1;
                                                }
                                             } else {
                                                this.h = 3;
                                                main.a.a().a(-1, this.b + 8, this.c);
                                                main.a.a().a(1, this.b - 8, this.c);
                                                if (this.b - this.a.a > 0) {
                                                   this.i = -1;
                                                } else if (this.b - this.a.a < 0) {
                                                   this.i = 1;
                                                }

                                                this.d = a(this.b - this.a.a) / 10 * this.i;
                                                this.e = -10;
                                             }
                                          } else if (this.a.c == 4) {
                                             this.h = 4;
                                             if (this.b - this.a.a > 0) {
                                                this.i = -1;
                                             } else if (this.b - this.a.a < 0) {
                                                this.i = 1;
                                             }

                                             this.d = a(this.b - this.a.a) / 9 * this.i;
                                             this.e = 0;
                                          } else {
                                             this.b = this.a.a;
                                             this.c = this.a.b;
                                             this.a = null;
                                          }
                                       }
                                    }
                                 }

                                 switch(this.h) {
                                 case 1:
                                    this.d = 0;
                                    this.e = 0;
                                    ++this.f;
                                    if (this.f > 30) {
                                       this.f = 0;
                                    }

                                    if (this.f % 15 < 5) {
                                       this.C = 0;
                                    } else {
                                       this.C = 1;
                                    }

                                    this.V();
                                    if (!this.j) {
                                       ++this.g;
                                       if (this.g > 50) {
                                          this.g = 0;
                                          this.a = null;
                                       }
                                    }

                                    this.J();
                                    if (this.j && GameSrc.d.size() != 0 && TileMap.mapId == 50) {
                                       var18 = (Char)GameSrc.d.elementAt(0);
                                       if (!var18.V) {
                                          if (var18.h != 2) {
                                             var18.a((int)(this.b - 45), (int)this.c, (int)0);
                                          }

                                          System.currentTimeMillis();
                                          if (cq.f(this.b - 45 - var18.b) <= 10) {
                                             var18.V = true;
                                          }
                                       } else {
                                          if (var18.h != 2) {
                                             var18.a((int)(this.b + 45), (int)this.c, (int)0);
                                          }

                                          System.currentTimeMillis();
                                          if (cq.f(this.b + 45 - var18.b) <= 10) {
                                             var18.V = false;
                                          }
                                       }

                                       if (main.a.g % 100 == 0) {
                                          var18.checkInfo("Cc cm cum");
                                       }
                                    }
                                    break;
                                 case 2:
                                    if (this.k == 1 && !this.j) {
                                       var16 = 2;
                                    } else {
                                       var16 = 1;
                                    }

                                    if (this.b >= GameSrc.k && this.b <= GameSrc.k + main.a.i) {
                                       if (this.k == 0) {
                                          pasta.aw.a();
                                       } else {
                                          pasta.aw.a();
                                       }
                                    }

                                    this.aJ = 0;
                                    this.n = false;
                                    if (this.o) {
                                       this.o = false;
                                       pasta.aw.a();
                                       pasta.av.a().a((byte)3);
                                    }

                                    byte var13 = 0;
                                    var2 = var13;
                                    if (!this.j) {
                                       var2 = var13;
                                       if (this.a != null) {
                                          var2 = a(this.b - this.a.a);
                                       }
                                    }

                                    ++this.f;
                                    if (this.f >= 10) {
                                       this.f = 0;
                                    }

                                    this.C = (this.f >> 1) + 2;
                                    if ((TileMap.b(this.b, this.c - 1) & 64) == 64) {
                                       var3 = this.b;
                                       this.b = (var16 * this.d >> 1) + var3;
                                    } else {
                                       var3 = this.b;
                                       this.b = var16 * this.d + var3;
                                    }

                                    if (this.i == 1) {
                                       if (TileMap.a(this.b + this.as, this.c - this.at, 4)) {
                                          if (this.j) {
                                             this.d = 0;
                                             this.b = TileMap.b(this.b + this.as) - this.as;
                                          } else {
                                             this.K();
                                          }
                                       }
                                    } else if (TileMap.a(this.b - this.as - 1, this.c - this.at, 8)) {
                                       if (this.j) {
                                          this.d = 0;
                                          this.b = TileMap.b(this.b - this.as - 1) + TileMap.a + this.as;
                                       } else {
                                          this.K();
                                       }
                                    }

                                    if (this.j) {
                                       if (this.d > 0) {
                                          --this.d;
                                       } else if (this.d < 0) {
                                          ++this.d;
                                       } else {
                                          if (this.b - this.R != 0 && this.j) {
                                             pasta.av.a().g();
                                          }

                                          this.h = 1;
                                       }
                                    }

                                    if ((TileMap.b(this.b, this.c) & 2) != 2) {
                                       if (this.j) {
                                          if (this.b - this.R != 0 || this.c - this.S != 0) {
                                             pasta.av.a().g();
                                          }

                                          this.C = 7;
                                          this.h = 4;
                                          this.T = 0;
                                          this.d = this.i * 3;
                                          this.aq = 0;
                                       } else {
                                          this.K();
                                       }
                                    }

                                    if (!this.j && this.a != null && a(this.b - this.a.a) > var2) {
                                       this.K();
                                    }

                                    main.a.a().a(this.i, this.b - (this.i << 3), this.c);
                                    this.V();
                                    this.goToMap(2);
                                    break;
                                 case 3:
                                    this.L();
                                    break;
                                 case 4:
                                    this.N();
                                    break;
                                 case 5:
                                    this.n = false;
                                    if (this.o) {
                                       this.o = false;
                                       pasta.aw.a();
                                       pasta.av.a().a((byte)3);
                                    }

                                    ++this.f;
                                    this.b += (this.aq - this.b) / 4;
                                    if (this.f > 7) {
                                       this.c += (this.g - this.c) / 4;
                                    } else {
                                       this.c += this.f - 10;
                                    }

                                    if (cq.f(this.aq - this.b) < 4 && cq.f(this.g - this.c) < 10) {
                                       this.b = this.aq;
                                       this.c = this.g;
                                       this.h = 14;
                                       if (this.j) {
                                          GameSrc.a().n();
                                          pasta.av.a().g();
                                       }
                                    }

                                    this.C = 23;
                                    break;
                                 case 6:
                                    if (this.m <= 0) {
                                       this.C = 0;
                                    } else if (this.aZ == 10) {
                                       this.b += this.d;
                                    } else if (this.C <= 1) {
                                       ++this.f;
                                       if (this.f > 6) {
                                          this.C = 0;
                                       } else {
                                          this.C = 1;
                                       }

                                       if (this.f > 10) {
                                          this.f = 0;
                                       }
                                    }

                                    if (this.C != 7 && this.C != 12 && (TileMap.b(this.b, this.c + 1) & 2) != 2) {
                                       this.d = 0;
                                       this.e = 0;
                                       this.h = 4;
                                       this.C = 7;
                                    }

                                    if (!this.j) {
                                       ++this.g;
                                       if (this.g > 10) {
                                          if ((TileMap.b(this.b, this.c + 1) & 2) != 2) {
                                             this.c += 5;
                                          } else {
                                             this.C = 0;
                                          }
                                       }

                                       if (this.g > 50) {
                                          this.g = 0;
                                          this.a = null;
                                       }
                                    }
                                 case 7:
                                 case 8:
                                 case 11:
                                 case 13:
                                 case 15:
                                 default:
                                    break;
                                 case 9:
                                    this.I();
                                    break;
                                 case 10:
                                    this.O();
                                    break;
                                 case 12:
                                    this.H();
                                    break;
                                 case 14:
                                    ++this.f;
                                    if (this.f > 30) {
                                       this.f = 0;
                                    }

                                    if (this.f % 15 < 5) {
                                       this.C = 0;
                                    } else {
                                       this.C = 1;
                                    }
                                    break;
                                 case 16:
                                    pasta.a.g();
                                    main.a.j();
                                    this.a = null;
                                    ++this.f;
                                    this.b += (this.aq - this.b) / 4;
                                    if (this.f > 7) {
                                       this.c += (this.g - this.c) / 4;
                                    } else {
                                       this.c += this.f - 10;
                                    }

                                    if (cq.f(this.aq - this.b) < 4 && cq.f(this.g - this.c) < 10) {
                                       this.b = this.aq;
                                       this.c = this.g;
                                       this.h = 1;
                                       this.g = 0;
                                       u = false;
                                       pasta.av.a().g();
                                    }

                                    this.C = 23;
                                 }

                                 if (this.m > 0) {
                                    this.C = 23;
                                    --this.m;
                                 }

                                 if (this.f != 0 || this.g != 0) {
                                    this.a(this.f, this.g);
                                    this.f = 0;
                                    this.g = 0;
                                 }

                                 if (this.a != null) {
                                    short[] var22;
                                    if (this.a[0] == 0) {
                                       var22 = this.a;
                                       ++var22[0];
                                       pasta.y.a(60, this, 1);
                                    } else if (this.a[0] < 10) {
                                       var22 = this.a;
                                       ++var22[0];
                                    } else {
                                       this.b = this.a[1];
                                       this.c = this.a[2];
                                       this.a = null;
                                       pasta.y.a(60, this, 1);
                                       if (this.j) {
                                          if ((TileMap.b(this.b, this.c) & 2) != 2) {
                                             this.h = 4;
                                             myCharz().b(GameSrc.a[38], 1);
                                          } else {
                                             pasta.av.a().g();
                                             myCharz().b(GameSrc.a[38], 0);
                                          }
                                       }
                                    }
                                 }

                                 if (this.h != 10) {
                                    this.U = 0;
                                 }

                                 if (this.o) {
                                    this.C = 17;
                                    if (main.a.g % 4 == 0) {
                                       pasta.y.a(1, this.b, this.c + main.a.o, 1);
                                    }

                                    if (this.j) {
                                       var6 = System.currentTimeMillis();
                                       if (var6 - this.d >= 1000L) {
                                          (new StringBuffer("%= ")).append(this.a.b);
                                          this.d = var6;
                                          this.t += this.w * this.a.b / 100;
                                          this.s += this.x * this.a.b / 100;
                                          if (this.t < this.w) {
                                             GameSrc.a("+" + this.w * this.a.b / 100 + " " + pasta.ab.ee, this.b, this.c - this.B - 20, -1, 9);
                                          }

                                          if (this.s < this.x) {
                                             GameSrc.a("+" + this.x * this.a.b / 100 + " " + pasta.ab.ef, this.b, this.c - this.B - 20, -2, 10);
                                          }

                                          pasta.av.a().a((byte)2);
                                       }
                                    }
                                 }

                                 if (this.p) {
                                    if (this.j) {
                                       v = true;
                                       this.h = 3;
                                       this.e = -8;
                                       if (this.c <= TileMap.d - 240) {
                                          this.p = false;
                                          v = false;
                                          this.h = 4;
                                       }
                                    } else {
                                       this.h = 3;
                                       this.e = -8;
                                       if (this.c <= TileMap.d - 240) {
                                          this.e = 0;
                                          this.p = false;
                                          this.e = 0;
                                          this.h = 1;
                                       }
                                    }
                                 }

                                 this.P();
                                 this.W();
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      }

   }

   public final void q() {
      byte var4 = 0;
      byte var5 = 0;
      if (myCharz().a == null && myCharz().a == null && myCharz().a == null && myCharz().a() == null || this.d.size() != 0) {
         this.d.removeAllElements();
         int var7 = GameSrc.k + 10;
         int var6 = GameSrc.k + main.a.i - 10;
         int var8 = GameSrc.l + 10;
         int var9 = GameSrc.l + GameSrc.b;
         int var2 = 0;

         int var1;
         int var3;
         for(var1 = 0; var2 < GameSrc.d.size(); var1 = var3) {
            Char var10 = (Char)GameSrc.d.elementAt(var2);
            var3 = var1;
            if (var10.h != 15) {
               var3 = var1;
               if (!var10.l) {
                  var3 = var1;
                  if (var7 <= var10.b) {
                     var3 = var1;
                     if (var10.b <= var6) {
                        var3 = var1;
                        if (var8 <= var10.c) {
                           var3 = var1;
                           if (var10.c <= var9) {
                              var3 = var1;
                              if (var10.charID != -114) {
                                 label192: {
                                    if (TileMap.mapId == 129) {
                                       var3 = var1;
                                       if (TileMap.mapId != 129) {
                                          break label192;
                                       }

                                       var3 = var1;
                                       if (myCharz().c <= 264) {
                                          break label192;
                                       }
                                    }

                                    this.d.addElement(var10);
                                    var3 = var1;
                                    if (this.a != null) {
                                       var3 = var1;
                                       if (var10.equals(this.a)) {
                                          var3 = this.d.size();
                                       }
                                    }
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }

            ++var2;
         }

         i var12;
         if (this.j && this.g()) {
            for(var2 = 0; var2 < GameSrc.f.size(); ++var2) {
               var12 = (i)GameSrc.f.elementAt(var2);
               GameSrc.a();
               if (!GameSrc.a(var12)) {
                  this.a = null;
               } else {
                  this.d.addElement(var12);
                  if (this.a != null) {
                     var1 = this.d.size();
                  }
               }
            }

            this.a = null;
            this.a = null;
            if (this.d.size() > 0) {
               if (var1 >= this.d.size()) {
                  var1 = var5;
               }

               this.a(this.d.elementAt(var1));
            } else {
               this.a = null;
               this.U();
               this.a = null;
               this.a = null;
               E = false;
            }
         } else {
            for(var2 = 0; var2 < GameSrc.e.size(); var1 = var3) {
               ItemMap var11 = (ItemMap)GameSrc.e.elementAt(var2);
               var3 = var1;
               if (var7 <= var11.a) {
                  var3 = var1;
                  if (var11.a <= var6) {
                     var3 = var1;
                     if (var8 <= var11.b) {
                        var3 = var1;
                        if (var11.b <= var9) {
                           this.d.addElement(var11);
                           var3 = var1;
                           if (this.a != null) {
                              var3 = var1;
                              if (var11.equals(this.a)) {
                                 var3 = this.d.size();
                              }
                           }
                        }
                     }
                  }
               }

               ++var2;
            }

            for(var3 = 0; var3 < GameSrc.f.size(); var1 = var2) {
               var12 = (i)GameSrc.f.elementAt(var3);
               var2 = var1;
               if (var12.h != 1) {
                  var2 = var1;
                  if (var12.h != 0) {
                     var2 = var1;
                     if (var7 <= var12.e) {
                        var2 = var1;
                        if (var12.e <= var6) {
                           var2 = var1;
                           if (var8 <= var12.f) {
                              var2 = var1;
                              if (var12.f <= var9) {
                                 this.d.addElement(var12);
                                 var2 = var1;
                                 if (this.a != null) {
                                    var2 = var1;
                                    if (var12.equals(this.a)) {
                                       var2 = this.d.size();
                                    }
                                 }
                              }
                           }
                        }
                     }
                  }
               }

               ++var3;
            }

            for(var2 = 0; var2 < GameSrc.g.size(); var1 = var3) {
               cm var13 = (cm)GameSrc.g.elementAt(var2);
               var3 = var1;
               if (var13.h != 15) {
                  var3 = var1;
                  if (var7 <= var13.b) {
                     var3 = var1;
                     if (var13.b <= var6) {
                        var3 = var1;
                        if (var8 <= var13.c) {
                           var3 = var1;
                           if (var13.c <= var9) {
                              this.d.addElement(var13);
                              var3 = var1;
                              if (this.a != null) {
                                 var3 = var1;
                                 if (var13.equals(this.a)) {
                                    var3 = this.d.size();
                                 }
                              }
                           }
                        }
                     }
                  }
               }

               ++var2;
            }

            if (this.d.size() > 0) {
               if (var1 >= this.d.size()) {
                  var1 = var4;
               }

               this.a(this.d.elementAt(var1));
            } else {
               this.a = null;
               this.U();
               this.a = null;
               this.a = null;
               E = false;
            }
         }
      }

   }

   public final void r() {
      GameSrc.a().q = true;
      GameSrc.a().P = 0;
      GameSrc.a().p = true;
      GameSrc.a().N = 0;
      this.m = 6;
      pasta.y.a(8, this, 1);
      this.U = true;
      this.aH = 0;
   }

   public final void s() {
      this.t = this.w;
      this.s = this.x;
      this.h = 1;
      this.g = 0;
      this.aq = 0;
      this.f = 0;
      pasta.y.a(109, this, 2);
      GameSrc.a().b = null;
      GameSrc.c = true;
   }

   public final void teleTo(int var1, int var2) {
      this.an = var1;
      this.ao = var2;
      this.ap = 10;
   }

   public final void transMap(int var1, int var2) {
      pasta.a.g();
      (new StringBuffer("REST POINT x= ")).append(var1).append(" y= ").append(var2);
      this.a = null;
      if (this.c - var2 == 0) {
         this.b = var1;
         u = false;
         v = false;
      } else {
         this.h = 16;
         this.aq = var1;
         this.g = var2;
         this.f = 0;
         myCharz().R = var1;
         myCharz().S = var2;
      }

   }

   public final void u() {
      if (this.I) {
         this.I = false;
         this.d = null;
         this.c = null;
      } else {
         this.aj = 0;
         this.d = null;
         this.c = null;
      }

   }

   public final void v() {
      this.J = false;
      this.a = null;
   }

   public final void w() {
      this.M = false;
   }

   public final void x() {
      if (this.aj != 0) {
         this.aj = 0;
      }

      if (this.I) {
         this.I = false;
      }

      if (this.J) {
         this.J = false;
      }

      this.a = null;
      this.d = null;
      this.c = null;
      this.M = false;
      this.O = false;
   }

   public final void y() {
      this.L = false;
   }

   public final void z() {
      this.K = false;
      v = false;
      this.ak = 0;
   }
}
